# Bash Mastery :) Dasturchilar Va Xavfsizlik Mutaxassislari Uchun Qo‘llanma

![photo_2025-01-12_19-23-37](https://github.com/user-attachments/assets/0cb4a7ea-1df6-4480-97fb-39172d88b5ee)


Mulaif @Deep_Specter

***

# Kirish

Ushbu kitob Bash skriptlashni o‘rganish uchun mo‘ljallangan bo‘lib, unda bosqichma-bosqich tushuntirishlar, misollar va amaliyot uchun topshiriqlar keltirilgan. Bash skriptlash — bu tizimni avtomatlashtirish, turli operatsiyalarni bajarish va murakkab jarayonlarni soddalashtirish uchun kuchli vosita hisoblanadi. Ushbu kitobni o‘qish orqali siz Bash tilining asoslaridan boshlab, murakkab amaliy dasturlarni yaratishga qadar ko‘nikmalarni egallaysiz.

## Nima Uchun Bash Skriptlash ?

* **Avtomatlashtirish**: Bash orqali tizim operatsiyalarini avtomatlashtirish va takrorlanuvchi vazifalarni qisqartirish mumkin.
* **Keng qo‘llanilish**: Bash Linux va Unix tizimlarida standart hisoblanadi va serverlar, tarmoq boshqaruvi kabi ko‘plab sohalarda qo‘llaniladi.
* **Tezkor natijalar**: Oddiy va murakkab vazifalarni tez va samarali bajarish imkonini beradi.

## Kimlar Uchun Ushbu Kitob ?

* **Boshlovchilar**: Bash skriptlashni noldan o‘rganmoqchi bo‘lganlar uchun.
* **Kiberxavfsizlik mutaxassislari**: Tizim xavfsizligini ta’minlash va monitoring qilish uchun avtomatlashtirilgan skriptlarni yaratishni istovchilar uchun.
* **Tarmoq muhandislari va tizim administratorlari**: Tarmoq monitoringi va tizim boshqaruvini avtomatlashtirish uchun.

## Kitobning Tuzilishi

Kitob quyidagi bo‘limlardan iborat:

1. Bash skriptlashning asoslari va sintaksisi.
2. Terminal va Linux buyruqlaridan foydalanish.
3. Amaliy misollar va qiziqarli loyihalar.
4. Xavfsiz skriptlash texnikalari.
5. Real vazifalar uchun amaliyot topshiriqlari.

## E’tirof

Bu kitob **Deep Specter** mulki bo‘lib, mualliflik huquqi bilan himoyalangan. Undagi barcha kontent Bash skriptlashni o‘rganishni maksimal darajada qulay va samarali qilish uchun maxsus ishlab chiqilgan. Kitobdan foydalanganda mualliflik huquqlarini hurmat qilishni so‘raymiz.

Ushbu kitobdan unumli foydalanib, Bash skriptlash orqali tizim boshqaruvi va avtomatlashtirishni yangi darajaga olib chiqing!

***

**Mundarija**

#### Bash va Shell Skriptlashga Kirish

1.1. Bash va Shell nima?\
1.2. Shellning boshqa turlari (sh, zsh, csh)\
1.3. Bashning tarixi va evolyutsiyasi\
1.4. Bash skriptlashning amaliy qo‘llanilish sohalari\
1.5. Skriptlash uchun kerakli dasturlar va muhit tayyorlash

**2 Terminal va Linux Buyruqlariga Kirish**

2.1. Terminal va Shellning farqi\
2.2. Linuxdagi asosiy buyruqlar (ls, cd, pwd, whoami, man)\
2.3. Buyruqlarni zanjirlash (Pipe |, Redirect >, <)\
2.4. Buyruqlarning qayta ishlash kodi ($?)

**3 Bash Skriptining Tuzilishi**

3.1. Shebang (#!/bin/bash) va uning roli\
3.2. Izohlar qo‘shish va ularning ahamiyati\
3.3. Skriptlarni yaratish, saqlash va bajarish\
3.4. Skriptni bajariladigan qilish: chmod +x\
3.5. Skriptlarni tashqi fayllardan chaqirish

**4 O‘zgaruvchilar Va Ular Bilan Ishlash**

4.1. O‘zgaruvchi e’lon qilish va ularga qiymat berish\
4.2. Matnli va sonli o‘zgaruvchilar bilan ishlash\
4.3. Maxsus o‘zgaruvchilar ($0, $1, $#, $@)\
4.4. Muhit o‘zgaruvchilari ($PATH, $HOME, $USER)\
4.5. Buyruq natijalarini o‘zgaruvchiga saqlash ($(command))

**5 Bashda Shart Operatorlari**

5.1. Oddiy if-else operatori\
5.2. Murakkab shartlar bilan elif\
5.3. Matnlarni solishtirish (==, !=)\
5.4. Sonlarni solishtirish (-eq, -lt, -gt)\
5.5. case operatori bilan turli holatlar uchun kod yozish

**6 Tsikllar Va Ularning Qo‘llanilishi**

6.1. for tsikli va ro‘yxatlar ustida ishlash\
6.2. while tsikli va shartli aylanish\
6.3. until tsikli bilan shart bajarilguncha aylanish\
6.4. Tsiklni boshqarish (break, continue)\
6.5. Ichma-ich tsikllar

**7 Funktsiyalar Va Modullar**

7.1. Funktsiyalarni e’lon qilish va chaqirish\
7.2. Funktsiyalarga parametr uzatish\
7.3. Qaytarmoqchi bo‘lgan qiymatlar (return)\
7.4. Modullar yordamida kodni tashkil etish\
7.5. Kutubxonalarni skriptga ulash

**8 Fayllar Va Papkalar Bilan Ishlash**

8.1. Fayl va kataloglarning mavjudligini tekshirish\
8.2. Fayllarni o‘qish va yozish (cat, echo, >, >>)\
8.3. Kataloglarni yaratish va o‘chirish (mkdir, rmdir)\
8.4. Fayl hajmi va turi bilan ishlash (stat)\
8.5. Fayllarni avtomatik arxivlash

**9 Muhit O‘zgaruvchilari Va Parametrlar**

9.1. Muhit o‘zgaruvchilari bilan ishlash\
9.2. Komanda satri parametrlarini qabul qilish ($1, $2, $@)\
9.3. Parametrlarni validatsiya qilish va xatolarni qayta ishlash\
9.4. Default qiymatlar bilan ishlash

**10 Bashda Massivlar**

10.1. Massivlarni e’lon qilish va ularga qiymat berish\
10.2. Massiv elementlarini o‘qish va o‘zgartirish\
10.3. Massivlar ustida tsikl bilan ishlash\
10.4. Dinamik massivlarni boshqarish

**11 Regulyar Ifodalar (Regex)**

11.1. Regulyar ifodalar asoslari\
11.2. grep yordamida ma’lumotlarni filtrlash\
11.3. sed bilan matnni o‘zgartirish va tahrirlash\
11.4. Murakkab ma’lumotlarni qayta ishlash

**12 Avtomatlashtirish Asoslari**

12.1. cron yordamida vaqt bo‘yicha vazifalarni bajarish\
12.2. at va batch yordamida kechiktirilgan bajarish\
12.3. Skriptlarni fon jarayoni sifatida ishga tushirish\
12.4. Disk hajmini avtomatik kuzatish va xabar berish

**13 Xatoliklarni Boshqarish**

13.1. Exit kodlari va ularning roli\
13.2. trap yordamida xatoliklarni tuzatish\
13.3. Log fayllarni yaratish va monitoring qilish\
13.4. Xavfsiz skriptlash usullari

**14 Bash Skriptni Optimizatsiya Qilish**

14.1. Kodni tezlashtirish va ixchamlashtirish\
14.2. Resurslardan samarali foydalanish\
14.3. Takrorlanuvchi buyruqlarni avtomatlashtirish\
14.4. Kodni modullar orqali tashkil etish

**15 Foydali Asboblar Va Texnikalar**

15.1. awk va ma’lumotlarni tahlil qilish\
15.2. sed yordamida matnni boshqarish\
15.3. logrotate bilan log fayllarni boshqarish\
15.4. Bashda vaqtni boshqarish (date, sleep)

**16 Kengaytirilgan Bash Texnikalari**

16.1. Dinamik buyruqlarni bajarish (eval)\
16.2. Multitasking va fon jarayonlari (&, wait)\
16.3. Bir nechta skriptlarni parallel boshqarish\
16.4. Boshqa dasturlash tillari bilan integratsiya

**17 Skriptlar Xavfsizligini Ta’minlash**

17.1. Kiruvchi parametrlarni tekshirish va validatsiya qilish\
17.2. Fayllar bilan ishlashda xavfsizlikni oshirish\
17.3. Parollarni shifrlash va yashirish\
17.4. Xavfsiz skriptlash amaliyotlari

**18 Amaliy Misollar**

18.1. "Hello World" skripti\
18.2. Disk hajmini kuzatish va xabar berish\
18.3. Server faoliyatini monitoring qilish\
18.4. Yangi fayllarni avtomatik kuzatish va zaxira nusxasini olish\
18.5. Haftalik cron vazifalarini yaratish

**19 Qiziqarli Loyiha Misollari**

19.1. Oddiy kalkulyator skripti\
19.2. IP manzillarni kuzatish tizimi\
19.3. Kataloglarni avtomatik tozalash dasturi\
19.4. Skript yordamida ma’lumotni URL’dan yuklab olish\
19.5. Bashda oddiy chat-bot yaratish

**20 Amaliyot Uchun Topshiriqlar**

20.1. Fayl tizimining strukturasi bo‘yicha skript yaratish\
20.2. Foydalanuvchi hisobini avtomatik tekshirish va sozlash\
20.3. Matnli fayllarni tartiblash va qidirish dasturi\
20.4. Diskdagi bo‘sh joyni kuzatish va xabar berish\
20.5. Log fayllarni avtomatik boshqarish va o‘chirish

***

#### Bash va Shell Skriptlashga Kirish

1.1. Bash va Shell nima ?\
1.2. Shellning boshqa turlari (sh, zsh, csh)\
1.3. Bashning tarixi va evolyutsiyasi\
1.4. Bash skriptlashning amaliy qo‘llanilish sohalari\
1.5. Skriptlash uchun kerakli dasturlar va muhit tayyorlash

# Bash va Shell Skriptlashga Kirish

Bash va Shell skriptlash zamonaviy IT sohasida, ayniqsa, kiberxavfsizlik, tizim boshqaruvi, avtomatlashtirish va dasturiy ta'minot sohalarida muhim o'rin tutadi. Ushbu bo'limda Bash va Shell skriptlashning asosiy tushunchalari, tarixi va amaliy qo'llanilish sohalari haqida batafsil ma'lumot beriladi.

**Bash va Shell nima ?**

Shell bu operatsion tizim va foydalanuvchi o'rtasidagi interfeys bo'lib, buyruqlarni bajarish uchun ishlatiladi. Shell foydalanuvchiga buyruqlarni kiritish, operatsion tizim bilan muloqot qilish va natijalarni olish imkoniyatini beradi. Bash (Bourne Again Shell) esa Shellning eng mashhur turlaridan biri bo'lib, Linux va Unix tizimlarida standart interfeys hisoblanadi.

Bash va Shell quyidagi asosiy imkoniyatlarga ega:

* Interaktiv rejimda buyruqlarni kiritib ishlatish.
* Oldindan yozilgan skriptlar orqali jarayonlarni avtomatlashtirish.
* Tizim boshqaruvi va xavfsizlik uchun ko'p funksiyali vositalar bilan ta'minlash.

**Shellning boshqa turlari**

Shellning turli versiyalari mavjud. Ular ichida quyidagilar eng mashhur hisoblanadi:

* **Bourne Shell (sh):** Linux va Unix tizimlarining dastlabki Shell versiyasi. Oddiy va tezkor, lekin funksionalligi cheklangan.
* **Z Shell (zsh):** Bashga qaraganda ko'proq funksiyalarni taqdim etadi, masalan, avtoto'ldirish va sintaksisni tekshirish imkoniyati.
* **C Shell (csh):** Sintaksisi C dasturlash tiliga o'xshaydi. Tizim boshqaruvi uchun ilg‘or vositalarni taqdim etadi.
* **Korn Shell (ksh):** Bourne Shell va C Shellning afzalliklarini birlashtiradi. Katta korporativ tizimlarda keng qo‘llaniladi.

Bash esa universal qulayligi va keng qo'llanilishi tufayli eng mashhur Shell hisoblanadi.

**Bashning tarixi va evolyutsiyasi**

Bash dastlab 1989-yilda Brian Fox tomonidan ishlab chiqilgan va GNU loyihasining bir qismi sifatida yaratilgan. Bu Shell UNIX Bourne Shell (sh) ning yangilangan va qudratli versiyasidir. Bash ochiq kodli bo'lgani sababli, uni doimiy ravishda rivojlantirish va yangilash imkoniyati mavjud.

Hozirda Bash Linux, macOS va hatto Windows tizimlarida keng qo'llaniladi. Bu uning universal va moslashuvchan bo'lishidan darak beradi.

**Bash skriptlashning amaliy qo‘llanilish sohalari**

Bash skriptlash juda ko‘p sohalarda qo‘llaniladi. Ayniqsa, quyidagi yo‘nalishlarda o‘z o‘rniga ega:

* **Tizim boshqaruvi:**
* Fayllarni zaxiralash va tiklash.
* Jarayonlarni avtomatlashtirish.
* Tizim resurslarini kuzatish va boshqarish.
* **Kiberxavfsizlik:**
* Xavfsizlikni tekshirish va tizimni skanerlash.
* Log fayllar tahlili orqali tahdidlarni aniqlash.
* Tarmoqni kuzatish va xavfli faoliyatni aniqlash.
* **Dasturiy ta'minot boshqaruvi:**
* Kodlarni avtomatlashtirilgan testdan o'tkazish.
* Dasturiy yangilanishlarni boshqarish va kuzatish.
* **Tarmoq boshqaruvi:**
* Serverlar va mijoz qurilmalari o'rtasidagi ulanishni sozlash.
* Tarmoq xavfsizligini ta'minlash va tarmoqni boshqarish.

**Skriptlash uchun kerakli dasturlar va muhit tayyorlash**

Bash skriptlashni boshlash uchun quyidagi vositalar va dasturlar talab etiladi:

1. **Operatsion tizimlar:** Linux yoki Unix tizimlari standart ravishda Bash bilan birga keladi. Windows tizimida esa Windows Subsystem for Linux (WSL) orqali Bashni o'rnatish mumkin.
2. **Matn muharrirlari:**

* **Nano:** Oddiy va boshlang'ich foydalanuvchilar uchun qulay.
* **Vim:** Ilg‘or foydalanuvchilar uchun keng imkoniyatlar.
* **Visual Studio Code:** Kengaytirilgan muharrir bo'lib, plaginlar bilan ishlash imkoniyatini beradi.

1. **Muhitni sozlash:** Terminal orqali Bash versiyasini tekshirish va boshlang'ich sozlashlarni amalga oshirish:

```javascript
bash --version
chmod +x skript.sh
./skript.sh
```

Bash va Shell skriptlash avtomatlashtirish, tahlil va tizim xavfsizligini ta'minlash uchun muhim. Ayniqsa, kiberxavfsizlik mutaxassislari uchun Bash skriptlashning amaliy qo‘llanilishi katta afzallik beradi.

***

## 2 Terminal va Linux Buyruqlariga Kirish

*2.1. Terminal va Shellning farqi*\
*2.2. Linuxdagi asosiy buyruqlar (ls, cd, pwd, whoami, man)*\
*2.3. Buyruqlarni zanjirlash (Pipe |, Redirect >, <)*\
*2.4. Buyruqlarning qayta ishlash kodi ($?)*

# Terminal va Linux Buyruqlariga Kirish

Linux tizimlarida terminaldan foydalanish operatsion tizimni boshqarishning eng asosiy usuli hisoblanadi. Terminal orqali foydalanuvchilar buyruqlarni kiritib, tizim bilan muloqot qiladi va natijalarni ko‘radi. Ushbu bo‘limda terminalning vazifasi, asosiy Linux buyruqlari, buyruqlarni zanjirlash usullari va buyruqlarni qayta ishlash kodi haqida batafsil tushuntirib beriladi.

**Terminal va Shellning farqi**

Terminal - bu tizim foydalanuvchisi va operatsion tizim o‘rtasidagi interfeys bo‘lib, shell orqali buyruqlarni bajarishga imkon beradi. Terminal texnik jihatdan dasturdir, unda foydalanuvchi buyruqlarni kiritadi va shell ular bilan ishlaydi.

Shell esa buyruqlarni qabul qilib, ularni bajarish uchun operatsion tizimga uzatuvchi vositadir. Linuxda eng ko‘p ishlatiladigan shell turlari quyidagilardir:

* **Bash (Bourne Again Shell):** Eng mashhur va keng tarqalgan shell.
* **Zsh (Z Shell):** Ko‘proq funksiyalar va konfiguratsiyalarni taqdim etadi.
* **Fish (Friendly Interactive Shell):** Interfeysi oson va qulay shell.

Misol:

Terminalga `ls` buyrug‘ini kiritganingizda, shell bu buyrug‘ni qabul qiladi va bajaradi. Natijada joriy katalogdagi fayllar ro‘yxati terminalda ko‘rsatiladi.

**Linuxdagi asosiy buyruqlar**

Linux operatsion tizimida buyruqlarni terminalda kiritib, turli operatsiyalarni amalga oshirish mumkin. Quyida eng ko‘p qo‘llaniladigan buyruqlar va ularning ishlatilishi haqida ma'lumot keltirilgan.

### ls

Fayl va kataloglarni ko‘rsatish uchun ishlatiladi.

```javascript
ls;
```

Misol:

* `ls -l`: Fayllar haqida batafsil ma'lumotlarni ko‘rsatadi.
* `ls -a`: Yashirin fayllarni ko‘rsatadi.
* `ls /home`: Berilgan katalogdagi fayllarni ro‘yxatga oladi.

### cd

Katalogni o‘zgartirish uchun ishlatiladi.

```javascript
cd / path / to / directory;
```

Misol:

* `cd /home/user/Documents`: `Documents` katalogiga o‘tadi.
* `cd ..`: Bir daraja yuqoriga chiqadi.
* `cd ~`: Uy katalogiga qaytadi.

### pwd

Joriy ish katalogining to‘liq yo‘lini ko‘rsatadi.

```javascript
pwd;
```

Misol:

* Agar siz `Documents` katalogida bo‘lsangiz, `pwd` buyrug‘i `/home/user/Documents` deb qaytaradi.

### whoami

Tizimda kiritilgan foydalanuvchi nomini ko‘rsatadi.

```javascript
whoami;
```

Misol:

* Agar siz tizimga `user1` nomi bilan kirsangiz, `whoami` buyrug‘i `user1` natijasini qaytaradi.

### man

Buyruqlar uchun qo‘llanmani ko‘rsatadi.

```javascript
man <buyruq>
```

Misol:

* `man ls`: `ls` buyrug‘ining barcha parametrlari va tavsiflarini ko‘rsatadi.
* `man pwd`: `pwd` buyrug‘i haqida qo‘shimcha ma'lumot beradi.

**Buyruqlarni zanjirlash**

Linux buyruqlari birgalikda ishlatilganda yanada kuchliroq bo‘ladi. Quyida buyruqlarni zanjirlashning asosiy usullari keltirilgan:

### Pipe (`|`)

Bir buyruqning natijasini boshqa buyruqqa uzatadi.

```javascript
ls | grep "file"
```

Misol:

* Ushbu buyruq katalogdagi `file` so‘zini o‘z ichiga olgan fayllarni ko‘rsatadi.

### Redirect (`>`, `<`)

Natijani faylga yozish yoki fayldan o‘qish uchun ishlatiladi.

* `>`: Natijani faylga yozadi.

```javascript
echo "Hello, World!" > output.txt
```

* `<`: Fayldan ma'lumotni o‘qib buyruqqa uzatadi.

```javascript
sort < input.txt;
```

### Append (`>>`)

Faylga qo‘shimcha ma'lumot yozadi, mavjud ma'lumotni o‘chirib tashlamaydi.

```javascript
echo "Qo‘shimcha ma’lumot" >> output.txt
```

### AND (`&&`) va OR (`||`)

* `&&`: Birinchi buyruq muvaffaqiyatli bajarilgandan so‘ng, ikkinchi buyruq bajariladi.

```javascript
mkdir new_folder && cd new_folder
```

* `||`: Birinchi buyruq muvaffaqiyatsiz tugasa, ikkinchi buyruq bajariladi.

```javascript
cd unknown_folder || echo "Katalog topilmadi."
```

**Buyruqlarning qayta ishlash kodi**

Linuxda har bir buyruq bajarilgandan so‘ng, tizim qayta ishlash kodini chiqaradi. Bu kod `$?` orqali kuzatiladi va buyruqning muvaffaqiyati yoki xatosi haqida ma'lumot beradi:

* `0`: Buyruq muvaffaqiyatli bajarilgan.
* `1` yoki undan katta qiymatlar: Xato yuz bergan.

Misol:

```javascript
ls /home/user
echo $?
```

* Agar katalog mavjud bo‘lsa, `$?` qiymati `0` bo‘ladi.
* Agar katalog topilmasa, `$?` qiymati `1` bo‘ladi.

Yana bir misol:

```javascript
cat file.txt
echo $?
```

* Fayl mavjud bo‘lsa, `cat` buyrug‘i muvaffaqiyatli bajariladi va `$?` `0` qiymatini qaytaradi.
* Fayl topilmasa, xato kodi qaytariladi.

Linux terminali tizim boshqaruvi uchun kuchli vositadir. Asosiy buyruqlarni o‘rganish va ularni zanjirlash imkoniyatlarini bilish nafaqat tizimni samarali boshqarish, balki murakkab jarayonlarni avtomatlashtirish imkoniyatini ham beradi.

***

## 3 Bash Skriptining Tuzilishi

*3.1. Shebang (#!/bin/bash) va uning roli*\
*3.2. Izohlar qo‘shish va ularning ahamiyati*\
*3.3. Skriptlarni yaratish, saqlash va bajarish*\
*3.4. Skriptni bajariladigan qilish: chmod +x*\
*3.5. Skriptlarni tashqi fayllardan chaqirish*

# Bash Skriptining Tuzilishi

Bash skriptlash zamonaviy IT sohasida, ayniqsa tizim boshqaruvi va avtomatlashtirish uchun keng qo‘llaniladi. Bash skriptlar Linux va Unix tizimlarida oddiy vazifalarni avtomatlashtirishdan tortib murakkab tizimlarni boshqarishgacha keng imkoniyatlar yaratadi. Quyida Bash skriptining tuzilishi, asosiy elementlari va amaliy misollar haqida batafsil tushuntiriladi.

**Shebang (**`#!/bin/bash`**) va uning roli**

Bash skriptining birinchi qatori odatda "shebang" deb ataladi va quyidagicha yoziladi:

```javascript
#!/bin/bash
```

Bu satr tizimga ushbu skriptni bajarish uchun qaysi interpreterdan foydalanishni bildiradi. `#!/bin/bash` yozilganda, tizim Bash interpreteridan foydalanadi.

### Shebangning ahamiyati:

* **To‘g‘ri interpretatsiya:** Buyruqlar Bash tomonidan qanday talqin qilinishini aniqlaydi.
* **Turli interpreterlarni qo‘llab-quvvatlash:** Masalan, Python skriptlari uchun `#!/usr/bin/python` yoziladi.

Misol:

Fayl nomi: `hello.sh`

```javascript
#!/bin/bash
echo "Salom, Bash!"
```

Ushbu skriptni terminalda ishlatsangiz, u "Salom, Bash!" natijasini chiqaradi.

**Izohlar qo‘shish va ularning ahamiyati**

Izohlar kodni boshqalarga (yoki kelajakda o‘zingizga) tushuntirish uchun xizmat qiladi. Bashda izohlar `#` belgisi bilan boshlanadi.

```javascript
# Ushbu skript foydalanuvchini salomlaydi
echo "Salom, dunyo!"
```

### Izohlarning afzalliklari:

* **Tushunarlilikni oshiradi:** Har bir qadamni tushuntirib yozish kelajakda muammolarni oldini oladi.
* **Hujjatlash:** Murakkab skriptlarda nima uchun muayyan buyruq ishlatilganini tushuntiradi.

**Skriptlarni yaratish, saqlash va bajarish**

Bash skriptlarini yaratish va ishlatish oddiy jarayon bo‘lib, quyidagi bosqichlardan iborat:

1. **Skriptni yaratish:** Oddiy matn muharririda fayl yarating.

```javascript
nano skript.sh
```

1. **Skriptni yozish:** Faylga quyidagi buyruqlarni kiriting:

```javascript
#!/bin/bash
echo "Bu mening birinchi skriptim."
```

1. **Faylni saqlash:** (Nano muharririda `Ctrl+O`, keyin `Enter`, so‘ng `Ctrl+X`).
2. **Skriptni bajarish:**

```javascript
bash skript.sh
```

\*\*Skriptni bajariladigan qilish: \*\*`chmod +x`

Bash skriptini to‘g‘ridan-to‘g‘ri bajarish uchun unga bajariladigan ruxsat berish kerak.

1. Faylga bajariladigan ruxsat bering:

```javascript
chmod +x skript.sh
```

1. Skriptni ishlating:

```javascript
./skript.sh
```

Misol: Fayl nomi: `salom.sh`

```javascript
#!/bin/bash
echo "Bash skript ishladi."
```

Terminalda bajaring:

```javascript
chmod +x salom.sh
./salom.sh
```

Natija: `Bash skript ishladi.`

**Skriptlarni tashqi fayllardan chaqirish**

Bash skriptlar boshqa fayllardan ma'lumotni o‘qishi yoki boshqa skriptlarni chaqirishi mumkin.

### Fayldan ma'lumot o‘qish

`cat` yoki `while` yordamida fayldan ma'lumot o‘qiladi.

Misol:

1. Ma'lumotli fayl yarating:

```javascript
echo -e "Ism: Ali

```

Yosh: 25" > ma'lumot.txt

````javascript
2. Skript orqali o‘qing:
```bash
#!/bin/bash
while read qator; do
    echo "Fayldan o‘qildi: $qator"
done < ma'lumot.txt

````

1. Skriptni ishlating:

```javascript
bash skript.sh

```

1. Natija:

```javascript
Fayldan o‘qildi: Ism: Ali
Fayldan o‘qildi: Yosh: 25
```

### Boshqa skriptlarni chaqirish

Bash skript ichida boshqa skriptlarni chaqirish uchun ularning yo‘lini ko‘rsating.

Misol:

1. Ikkinchi skript yarating:

```javascript
echo "echo 'Bu boshqa skript.'" > boshqa.sh
chmod +x boshqa.sh
```

1. Asosiy skriptda chaqiring:

```javascript
#!/bin/bash
echo "Asosiy skript ishlamoqda."
./boshqa.sh
```

1. Natija:

```javascript
Asosiy skript ishlamoqda.
Bu boshqa skript.
```

Bash skriptlash oddiy vazifalarni avtomatlashtirishdan tortib murakkab tizimlarni boshqarishgacha bo‘lgan keng imkoniyatlarni taqdim etadi. Skriptlarni yozishni boshlash uchun yuqoridagi asosiy qadamlar va misollarni o‘zlashtirish kifoya.

***

### 4 O‘zgaruvchilar Va Ular Bilan Ishlash

*4.1. O‘zgaruvchi e’lon qilish va ularga qiymat berish*\
*4.2. Matnli va sonli o‘zgaruvchilar bilan ishlash*\
*4.3. Maxsus o‘zgaruvchilar ($0, $1, $#, $@)*\
*4.4. Muhit o‘zgaruvchilari ($PATH, $HOME, $USER)*\
*4.5. Buyruq natijalarini o‘zgaruvchiga saqlash ($(command))*

# Bash Skriptida O‘zgaruvchilar Va Ular Bilan Ishlash

O‘zgaruvchilar Bash skriptlashning asosiy elementlaridan biri bo‘lib, ular orqali ma’lumotlarni saqlash, uzatish va qayta ishlash mumkin. Bash skriptlarida o‘zgaruvchilar matnli, sonli yoki buyruq natijalarini saqlash uchun ishlatiladi. Quyida o‘zgaruvchilar bilan ishlashning asosiy usullari va amaliy misollar keltirilgan.

**O‘zgaruvchi e’lon qilish va ularga qiymat berish**

Bashda o‘zgaruvchilarni e’lon qilish uchun faqat o‘zgaruvchi nomini va unga qiymatni belgilash kifoya. O‘zgaruvchi nomlari katta va kichik harflarga sezgir bo‘ladi, ya’ni `VAR` va `var` bu ikki xil o‘zgaruvchi hisoblanadi.

### O‘zgaruvchini e’lon qilish:

```javascript
MY_VAR = "Salom, Bash!";
```

Ushbu qator `MY_VAR` nomli o‘zgaruvchini e’lon qiladi va unga "Salom, Bash!" qiymatini belgilaydi.

### O‘zgaruvchini chaqirish:

O‘zgaruvchini ishlatishda `$` belgisi orqali murojaat qilinadi.

```javascript
echo $MY_VAR
```

Natija: `Salom, Bash!`

### Amaliy misol:

```javascript
#!/bin/bash

# O‘zgaruvchini e’lon qilish
USERNAME="Ali"

# O‘zgaruvchini ishlatish
echo "Foydalanuvchi: $USERNAME"
```

Natija:

```javascript
Foydalanuvchi: Ali;
```

### O‘zgaruvchilarni qiymat bilan yangilash:

O‘zgaruvchiga yangi qiymatni quyidagicha belgilash mumkin:

```javascript
USERNAME="O‘zbekiston"
echo $USERNAME
```

Natija: `O‘zbekiston`

**Matnli va sonli o‘zgaruvchilar bilan ishlash**

Bash skriptlarida matnli va sonli o‘zgaruvchilar bilan ishlash keng qo‘llaniladi. Har ikki turdagi o‘zgaruvchilar bilan ishlash usullari bir-biridan farq qilishi mumkin.

### Matnli o‘zgaruvchilar

Matnli qiymatlar ikki yoki bir tirnoq ichida belgilanishi mumkin:

```javascript
MATN1="Bu matn"
MATN2='Yana bir matn'
echo $MATN1
echo $MATN2
```

Natija:

```javascript
Bu matn
Yana bir matn
```

Matnlarni birlashtirish:

```javascript
MATN1="Salom"
MATN2="Dunyo"
BIRLASHTIRILGAN="$MATN1, $MATN2!"
echo $BIRLASHTIRILGAN
```

Natija: `Salom, Dunyo!`

### Sonli o‘zgaruvchilar

Sonli qiymatlarni o‘zgaruvchiga quyidagicha belgilash mumkin:

```javascript
SON1 = 10;
SON2 = 20;
```

Sonlar ustida arifmetik amallar bajarish uchun `expr` yoki `$(( ))` sintaksisidan foydalaniladi:

Misol:

```javascript
SON1=10
SON2=5
YIGINDI=$((SON1 + SON2))
KUPAYTMA=$((SON1 * SON2))
echo "Yig‘indi: $YIGINDI"
echo "Ko‘paytma: $KUPAYTMA"
```

Natija:

```javascript
Yig‘indi: 15
Ko‘paytma: 50
```

### Son va matnlarni birlashtirish:

O‘zgaruvchilar son va matn qiymatlarini birlashtirish imkonini beradi:

```javascript
SON=25
MATN="Yoshi"
echo "$MATN: $SON"
```

Natija: `Yoshi: 25`

O‘zgaruvchilar Bash skriptlashda ma’lumotlarni saqlash va boshqarish uchun muhim vosita hisoblanadi. Matnli va sonli qiymatlar bilan ishlashni o‘zlashtirish orqali skriptlarni ko‘p qirrali qilish mumkin. Yuqoridagi misollar o‘zgaruvchilar bilan ishlashning asosiy usullarini o‘rgatadi va amaliyotda foydalanish uchun tayyor asos yaratadi.

**Maxsus o‘zgaruvchilar ($0, $1, $#, $@)**

Bashda maxsus o‘zgaruvchilar mavjud bo‘lib, ular skriptning o‘ziga xos xususiyatlarini va argumentlarini boshqarishda qo‘llaniladi. Quyida ushbu maxsus o‘zgaruvchilar haqida batafsil ma’lumot va misollar keltirilgan.

### $0

Ushbu o‘zgaruvchi skriptning o‘z nomini saqlaydi.

Misol:

```javascript
#!/bin/bash
echo "Ushbu skriptning nomi: $0"
```

Natija:

```javascript
Ushbu skriptning nomi: ./skript.sh
```

### $1, $2, ...

Ushbu o‘zgaruvchilar skriptga kiritilgan argumentlarni ifodalaydi. `$1` birinchi argumentni, `$2` esa ikkinchi argumentni bildiradi.

Misol:

```javascript
#!/bin/bash
echo "Birinchi argument: $1"
echo "Ikkinchi argument: $2"
```

Terminalda bajarish:

```javascript
bash skript.sh arg1 arg2
```

Natija:

```javascript
Birinchi argument: arg1
Ikkinchi argument: arg2
```

### $\#

Bu o‘zgaruvchi skriptga uzatilgan argumentlar sonini bildiradi.

Misol:

```javascript
#!/bin/bash
echo "Argumentlar soni: $#"
```

Terminalda bajarish:

```javascript
bash skript.sh arg1 arg2 arg3
```

Natija:

```javascript
Argumentlar soni: 3
```

### $@

Bu o‘zgaruvchi barcha argumentlarni ro‘yxat sifatida chiqaradi.

Misol:

```javascript
#!/bin/bash
echo "Argumentlar: $@"
```

Terminalda bajarish:

```javascript
bash skript.sh arg1 arg2 arg3
```

Natija:

```javascript
Argumentlar: arg1 arg2 arg3
```

**Muhit o‘zgaruvchilari ($PATH, $HOME, $USER)**

Muhit o‘zgaruvchilari operatsion tizim bilan bog‘liq muhim ma’lumotlarni saqlaydi va boshqaradi. Ushbu o‘zgaruvchilar Bash skriptlarida tizimni sozlash va boshqarish uchun ishlatiladi.

### $PATH

Bu o‘zgaruvchi bajariladigan fayllar qayerda joylashganligini ko‘rsatadi. Bash ushbu yo‘llardan dasturlarni qidiradi.

Misol:

```javascript
echo "Bajariladigan fayllar yo‘li: $PATH"
```

Natija (misol):

```javascript
Bajariladigan fayllar yo‘li: /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin
```

### $HOME

Foydalanuvchining asosiy katalogini bildiradi.

Misol:

```javascript
echo "Uy katalogingiz: $HOME"
```

Natija:

```javascript
Uy katalogingiz: /home/user
```

### $USER

Tizimga kirgan foydalanuvchi nomini saqlaydi.

Misol:

```javascript
echo "Foydalanuvchi nomi: $USER"
```

Natija:

```javascript
Foydalanuvchi nomi: user
```

**Buyruq natijalarini o‘zgaruvchiga saqlash ($(command))**

Bashda buyruq natijalarini o‘zgaruvchiga saqlash uchun `$(command)` sintaksisidan foydalaniladi. Bu usul boshqa buyruq natijalarini olish va ulardan keyingi hisob-kitoblarda foydalanishga imkon beradi.

Misol:

### Sana va vaqtni saqlash:

```javascript
DATE=$(date)
echo "Hozirgi sana va vaqt: $DATE"
```

Natija:

```javascript
Hozirgi sana va vaqt: Thu Jan 16 12:34:56 UTC 2025
```

### Diskdagi bo‘sh joyni saqlash:

```javascript
DISK_SPACE=$(df -h / | tail -1 | awk '{print $4}')
echo "Bo‘sh joy: $DISK_SPACE"
```

Natija (misol):

```javascript
Bo‘sh joy: 50G
```

### IP manzilni saqlash:

```javascript
IP_ADDRESS=$(hostname -I | awk '{print $1}')
echo "IP manzil: $IP_ADDRESS"
```

Natija (misol):

```javascript
IP manzil: 192.168.1.10
```

Bashda maxsus va muhit o‘zgaruvchilaridan foydalanish tizimni boshqarishda katta qulaylik yaratadi. Buyruq natijalarini o‘zgaruvchiga saqlash esa murakkab jarayonlarni avtomatlashtirish uchun keng imkoniyatlar taqdim etadi. Yuqoridagi misollar bu mavzuni amaliyotda qo‘llashga tayyor asos yaratadi.

***

### 5 Bashda Shart Operatorlari

*5.1. Oddiy if-else operatori*\
*5.2. Murakkab shartlar bilan elif*\
*5.3. Matnlarni solishtirish (==, !=)*\
*5.4. Sonlarni solishtirish (-eq, -lt, -gt)*\
*5.5. case operatori bilan turli holatlar uchun kod yozish*

# Bashda Shart Operatorlari

Bash skriptlashda shart operatorlari skriptning turli sharoitlarda qanday ishlashini aniqlash uchun ishlatiladi. Bu operatorlar turli holatlarga qarab turli kod bloklarini ishga tushirish imkoniyatini beradi. Quyida oddiy if-else operatori, murakkab shartlar bilan elif va matnlarni solishtirish haqida batafsil ma’lumot, kodlar va izohlar keltirilgan.

**Oddiy if-else operatori**

If-else operatori yordamida shartni tekshirish va natijaga qarab turli kodlarni bajarish mumkin. Ushbu operator quyidagicha ishlaydi:

* Agar `if` sharti bajarilsa, `then` bloki bajariladi.
* Agar `if` sharti bajarilmasa, `else` bloki ishga tushadi.

Sintaksisi:

```javascript
if [ shart ]; then
    buyruqlar
else
    boshqa_buyruqlar
fi
```

### Misol:

Juft yoki toq sonni aniqlash:

```javascript
#!/bin/bash

# SON degan o‘zgaruvchi e’lon qilinadi va qiymat 5 ga teng qilinadi.
SON=5

# Agar SON 2 ga bo‘linib qoldiq bermasa, u juft son hisoblanadi.
if [ $((SON % 2)) -eq 0 ]; then
    echo "$SON juft son."
else
    # Aks holda, SON toq son bo‘ladi.
    echo "$SON toq son."
fi
```

**Izoh:**

* `$((SON % 2))`: Bu matematik amalda `SON`ni 2 ga bo‘lish natijasidagi qoldiqni hisoblaydi.
* `-eq`: Bu "teng"ligini tekshiruvchi operator.

**Natija:**

```javascript
5 toq son.
```

**Murakkab shartlar bilan elif**

Elif operatori yordamida bir nechta shartlarni ketma-ket tekshirish mumkin. Bu murakkab qaror qabul qilish jarayonlarini avtomatlashtirishda foydali.

Sintaksisi:

```javascript
if [ shart1 ]; then
    buyruqlar1
elif [ shart2 ]; then
    buyruqlar2
else
    boshqa_buyruqlar
fi
```

### Misol:

Baholash tizimi:

```javascript
#!/bin/bash

# BAHO degan o‘zgaruvchiga qiymat beriladi.
BAHO=85

# Agar BAHO 90 dan katta yoki teng bo‘lsa, "A'lo baho" chiqariladi.
if [ $BAHO -ge 90 ]; then
    echo "A'lo baho"

# Agar BAHO 75 dan katta yoki teng bo‘lsa, "Yaxshi baho" chiqariladi.
elif [ $BAHO -ge 75 ]; then
    echo "Yaxshi baho"

# Agar BAHO 50 dan katta yoki teng bo‘lsa, "Qoniqarli baho" chiqariladi.
elif [ $BAHO -ge 50 ]; then
    echo "Qoniqarli baho"

# Yuqoridagi shartlarning hech biri bajarilmasa, "Qoniqarsiz baho" chiqariladi.
else
    echo "Qoniqarsiz baho"
fi
```

**Izoh:**

* `-ge`: "Katta yoki teng"ligini tekshiruvchi operator.
* Shartlar ketma-ket tekshiriladi. Birinchi bajarilgan shartdan keyin qolgan shartlar e’tiborsiz qoldiriladi.

**Natija:**

```javascript
Yaxshi baho
```

**Matnlarni solishtirish (==, !=)**

Bash skriptida matnlarni solishtirish uchun `==` (teng) va `!=` (teng emas) operatorlaridan foydalaniladi. Ushbu operatorlar yordamida matn qiymatlarini tekshirish va natijaga qarab harakat qilish mumkin.

Sintaksisi:

```javascript
if [ "$MATN1" == "$MATN2" ]; then
    buyruqlar
else
    boshqa_buyruqlar
fi
```

### Misol:

Matnlarni solishtirish:

```javascript
#!/bin/bash

# MATN1 va MATN2 degan o‘zgaruvchilar e’lon qilinadi.
MATN1="Salom"
MATN2="Dunyo"

# Agar MATN1 va MATN2 bir xil bo‘lsa, "Matnlar bir xil" chiqariladi.
if [ "$MATN1" == "$MATN2" ]; then
    echo "Matnlar bir xil."
else
    # Aks holda, "Matnlar turli" chiqariladi.
    echo "Matnlar turli."
fi
```

**Izoh:**

* Matn qiymatlarini taqqoslash uchun `==` ishlatiladi.
* Matn qiymatlarini e’tiborsiz qoldirmaslik uchun tirnoqlarda beriladi.

**Natija:**

```javascript
Matnlar turli.
```

### Yana bir misol:

Parolni tekshirish:

```javascript
#!/bin/bash

# Asl parol va foydalanuvchi kiritgan parolni solishtirish.
PAROL="1234"
KIRITILGAN_PAROL="1234"

if [ "$PAROL" == "$KIRITILGAN_PAROL" ]; then
    echo "Parol to‘g‘ri."
else
    echo "Parol noto‘g‘ri."
fi

```

**Izoh:**

* Foydalanuvchi kiritgan qiymat (masalan, parol) bilan asl qiymat solishtiriladi.
* Agar qiymatlar bir xil bo‘lsa, "Parol to‘g‘ri" natijasi qaytariladi.

**Natija:**

```javascript
Parol to‘g‘ri.
```

**Nazariy Qisqa Tushuntirish**

1. **If-else operatori:** Bu shartli tekshirishning asosiy turi bo‘lib, oddiy sharoitlarda ishlatiladi.
2. **Elif operatori:** Ko‘p bosqichli shartlarni ketma-ket tekshirish uchun ishlatiladi.
3. **Matnlarni solishtirish:** Foydalanuvchi kiritgan ma’lumot yoki boshqa matn qiymatlarini tahlil qilishda foydali.

Shart operatorlari Bash skriptlashda muhim o‘rin tutadi va tizimli qaror qabul qilishni avtomatlashtirish imkonini beradi. Har bir kod bloki ustida ishlash orqali shartlarni aniq tushunish va ulardan to‘g‘ri foydalanishni o‘rganish mumkin.

**Sonlarni solishtirish (-eq, -lt, -gt)**

Bash skriptida sonlarni solishtirish uchun maxsus operatorlar qo‘llaniladi. Ular quyidagicha ishlaydi:

* `-eq`: Tengligini tekshirish.
* `-ne`: Teng emasligini tekshirish.
* `-lt`: Kichikligini tekshirish.
* `-le`: Kichik yoki tengligini tekshirish.
* `-gt`: Kattaligini tekshirish.
* `-ge`: Katta yoki tengligini tekshirish.

### Misol:

Sonni ma’lum qiymatlar bilan taqqoslash:

```javascript
#!/bin/bash

# SON degan o‘zgaruvchi e’lon qilinadi.
SON=15

if [ $SON -lt 10 ]; then
    echo "$SON 10 dan kichik."
elif [ $SON -eq 10 ]; then
    echo "$SON 10 ga teng."
else
    echo "$SON 10 dan katta."
fi
```

**Izoh:**

* `-lt`: "Kichik"ligini bildiradi.
* `-eq`: "Teng"ligini bildiradi.
* Har bir shart ketma-ket tekshiriladi, va birinchi shart bajarilsa, qolganlari ishlatilmaydi.

**Natija:**

```javascript
15 10 dan katta.
```

### Yana bir misol:

Sonni musbat, manfiy yoki nol ekanligini aniqlash:

```javascript
#!/bin/bash

# SON o‘zgaruvchisini foydalanuvchi kiritadi.
SON=-5

if [ $SON -gt 0 ]; then
    echo "$SON musbat son."
elif [ $SON -lt 0 ]; then
    echo "$SON manfiy son."
else
    echo "$SON nolga teng."
fi
```

**Natija:**

```javascript
-5 manfiy son.
```

**Case operatori bilan turli holatlar**

`case` operatori biror o‘zgaruvchi qiymatini bir nechta holatlar bilan solishtirish uchun ishlatiladi. Bu usul ko‘p shartlarni boshqarish uchun osonroq va aniqroq.

Sintaksisi:

```javascript
case o‘zgaruvchi in
    qiymat1)
        buyruqlar
        ;;
    qiymat2)
        buyruqlar
        ;;
    *)
        boshqa_buyruqlar
        ;;
esac
```

### Misol:

Hafta kunini aniqlash:

```javascript
#!/bin/bash

# KUN degan o‘zgaruvchi e’lon qilinadi.
KUN="Dushanba"

case $KUN in
    "Dushanba")
        echo "Bugun hafta boshlandi."
        ;;
    "Juma")
        echo "Bugun hafta oxiri yaqin."
        ;;
    "Yakshanba")
        echo "Bugun dam olish kuni."
        ;;
    *)
        echo "Bu oddiy ish kuni."
        ;;
esac
```

**Izoh:**

* `case` o‘zgaruvchining qiymatini tekshiradi.
* Har bir holat uchun `;;` bilan yakunlanadigan buyruqlar bloki yoziladi.
* `*)` barcha boshqa qiymatlar uchun ishlaydi (standart holat).

**Natija:**

```javascript
Bugun hafta boshlandi.
```

### Yana bir misol:

Foydalanuvchi tanlovini aniqlash:

```javascript
#!/bin/bash

# Foydalanuvchi tanlov kiritadi.
read -p "Biror tanlov kiriting (1-3): " TANLOV

case $TANLOV in
    1)
        echo "Siz birinchi tanlovni tanladingiz."
        ;;
    2)
        echo "Siz ikkinchi tanlovni tanladingiz."
        ;;
    3)
        echo "Siz uchinchi tanlovni tanladingiz."
        ;;
    *)
        echo "Noto‘g‘ri tanlov kiritildi."
        ;;
esac
```

**Natija:**

* Agar foydalanuvchi `2` ni kiritsa:

```javascript
Siz ikkinchi tanlovni tanladingiz.
```

* Agar noto‘g‘ri qiymat kiritsa:

```javascript
Noto‘g‘ri tanlov kiritildi.
```

1. **Sonlarni solishtirish operatorlari (-eq, -lt, -gt):** Bu operatorlar sonli qiymatlarni taqqoslashda ishlatiladi va arifmetik solishtirishlar uchun qulay.
2. **Case operatori:** Ko‘p holatli shartlarni boshqarishda sodda va o‘qilishi qulay yechim taqdim etadi.

Shart operatorlari va case yordamida Bash skriptlarida murakkab qarorlarni boshqarish osonlashadi. Yuqoridagi misollar ularni amaliyotda qo‘llashni o‘rganish uchun yaxshi asos yaratadi.

***

# Tsikllar Va Ularning Qo‘llanilishi

Bashda tsikllar bir xil yoki turli buyruqlarni bir necha marta bajarish imkonini beradi. Tsikllar yordamida skriptlarni yanada kuchli va moslashuvchan qilish mumkin. Quyida Bashdagi for va while tsikllari haqida kengroq nazariy tushuntirish, amaliy misollar va har bir qator kodinga izohlar keltirilgan.

**For tsikli va ro‘yxatlar ustida ishlash**

For tsikli ro‘yxatlar, ma’lum oraliqdagi qiymatlar yoki fayldagi ma’lumotlar ustida navbatma-navbat ishlaydi. Har bir iteratsiyada for tsikli ro‘yxatdagi bitta elementni o‘zgaruvchiga o‘tkazadi va buyruqlarni bajaradi.

### For tsiklining asosiy sintaksisi:

```javascript
for o‘zgaruvchi in ro‘yxat; do
    buyruqlar
done
```

* `o‘zgaruvchi`: Har bir iteratsiyada ro‘yxatdagi elementni saqlash uchun ishlatiladi.
* `ro‘yxat`: For tsikli ishlaydigan qiymatlar to‘plami.
* `do` va `done`: Tsikl boshlanishi va tugashi.

### Misol:

Ro‘yxatdagi barcha elementlarni chiqarish:

```javascript
#!/bin/bash

# Ro‘yxatdagi elementlar ustida ishlash
for ISM in Ali Vali Salim; do
    echo "Salom, $ISM!"
done
```

**Izoh:**

1. `for ISM in Ali Vali Salim`: Ro‘yxatdagi qiymatlar navbatma-navbat `ISM` o‘zgaruvchisiga o‘tkaziladi.
2. `echo "Salom, $ISM!"`: Har bir qiymat uchun "Salom" bilan birga xabar chiqariladi.

**Natija:**

```javascript
Salom, Ali!
Salom, Vali!
Salom, Salim!
```

### Raqamlar bilan ishlash:

For tsikli raqamlar bilan ham ishlashi mumkin. Masalan, 1 dan 5 gacha bo‘lgan sonlarni chiqarish:

```javascript
#!/bin/bash

# Sonlar ustida ishlash
for SON in {1..5}; do
    echo "Son: $SON"
done
```

**Izoh:**

1. `{1..5}`: 1 dan 5 gacha bo‘lgan raqamlar ro‘yxatini hosil qiladi.
2. `echo "Son: $SON"`: Har bir iteratsiyada hozirgi sonni chiqaradi.

**Natija:**

```javascript
Son: 1;
Son: 2;
Son: 3;
Son: 4;
Son: 5;
```

**While tsikli va shartli aylanish**

While tsikli shart bajarilgunga qadar buyruqlarni qayta-qayta bajaradi. Bu tsikl har bir iteratsiyadan oldin berilgan shartni tekshiradi.

### While tsiklining asosiy sintaksisi:

```javascript
while [ shart ]; do
    buyruqlar
done
```

* `[ shart ]`: Shart to‘g‘ri (true) bo‘lsa, tsikl davom etadi.
* `do` va `done`: Tsiklning boshlanishi va tugashi.

### Misol:

1 dan 5 gacha bo‘lgan sonlarni chiqarish:

```javascript
#!/bin/bash

# Boshlang‘ich qiymat
SON=1

# SON 5 dan kichik yoki teng bo‘lsa, tsikl ishlaydi
while [ $SON -le 5 ]; do
    echo "Son: $SON"
    SON=$((SON + 1))
    # Har safar SON qiymati 1 ga oshiriladi
    # Shart qayta tekshiriladi

done
```

**Izoh:**

1. `SON=1`: Tsikl boshlanishida o‘zgaruvchi 1 ga teng.
2. `[ $SON -le 5 ]`: SON 5 dan kichik yoki teng bo‘lgunga qadar tsikl davom etadi.
3. `SON=$((SON + 1))`: Har bir iteratsiyada SON qiymati 1 ga oshiriladi.

**Natija:**

```javascript
Son: 1;
Son: 2;
Son: 3;
Son: 4;
Son: 5;
```

### Foydalanuvchi kiritgan qiymat bilan ishlash:

Foydalanuvchi nol kiritmaguncha sonlarni chiqarish:

```javascript
#!/bin/bash

# Foydalanuvchidan son kiritishni so‘raydi
read -p "Son kiriting (0 - to‘xtash uchun): " SON

# SON 0 bo‘lmaguncha tsikl ishlaydi
while [ $SON -ne 0 ]; do
    echo "Siz kiritgan son: $SON"
    read -p "Son kiriting (0 - to‘xtash uchun): " SON
    # Har safar yangi qiymat kiritiladi
    # SON 0 bo‘lsa, tsikl tugaydi

done
```

**Izoh:**

1. `[ $SON -ne 0 ]`: SON nol bo‘lmagan paytda tsikl davom etadi.
2. `read -p`: Foydalanuvchidan yangi qiymat so‘raydi.

**Natija:**

```javascript
Son kiriting (0 - to‘xtash uchun): 7
Siz kiritgan son: 7
Son kiriting (0 - to‘xtash uchun): 3
Siz kiritgan son: 3
Son kiriting (0 - to‘xtash uchun): 0
```

**For va While Tsikllarining Farqlari**

1. **For tsikli**:

   * Oldindan ma’lum bo‘lgan ro‘yxatlar yoki qiymatlar ustida ishlash uchun mos.
   * Har bir element uchun tsiklni bir marta bajaradi.

2. **While tsikli**:

   * Ma’lum bir shart bajarilgunga qadar davom etadi.
   * Boshlang‘ich shartga asoslangan va tsikl davomida shart yangilanadi.

Bashda for va while tsikllari turli xil vazifalarni avtomatlashtirishda qulay vositalar hisoblanadi. For tsikli ro‘yxatlar va oraliqlar ustida ishlashda foydali bo‘lsa, while tsikli shartli aylanish talab qilinadigan vaziyatlarda samarali qo‘llaniladi. Har bir tsikl o‘ziga xos xususiyatlarga ega bo‘lib, ulardan to‘g‘ri foydalanish skriptlarni yanada kuchli qiladi.

**Until tsikli bilan shart bajarilguncha aylanish**

`Until` tsikli shart bajarilgunga qadar kodni qayta-qayta bajaradi. Ya’ni, shart noto‘g‘ri (`false`) bo‘lsa, tsikl davom etadi, shart to‘g‘ri (`true`) bo‘lganda esa to‘xtaydi.

### Sintaksisi:

```javascript
until [ shart ]; do
    buyruqlar
done
```

* `[ shart ]`: Shart noto‘g‘ri (`false`) bo‘lganda kod ishlaydi.
* `do` va `done`: Tsiklning boshlanishi va tugashi.

### Misol:

1 dan 5 gacha bo‘lgan sonlarni chiqarish:

```javascript
#!/bin/bash

# Boshlang‘ich qiymat
SON=1

# SON 5 ga teng bo‘lmaguncha tsikl ishlaydi
until [ $SON -gt 5 ]; do
    echo "Son: $SON"
    SON=$((SON + 1))
    # Har safar SON qiymati 1 ga oshiriladi

done
```

**Izoh:**

1. `SON=1`: Boshlang‘ich qiymat 1 ga teng.
2. `[ $SON -gt 5 ]`: SON 5 dan katta bo‘lganda tsikl to‘xtaydi.
3. `SON=$((SON + 1))`: Har bir iteratsiyada SON qiymati 1 ga oshiriladi.

**Natija:**

```javascript
Son: 1;
Son: 2;
Son: 3;
Son: 4;
Son: 5;
```

### Foydalanuvchi bilan ishlash misoli:

Foydalanuvchi nol kiritguncha tsikl ishlaydi:

```javascript
#!/bin/bash

read -p "Son kiriting (0 - to‘xtash uchun): " SON

until [ $SON -eq 0 ]; do
    echo "Kiritilgan son: $SON"
    read -p "Son kiriting (0 - to‘xtash uchun): " SON

done
```

**Izoh:**

1. `[ $SON -eq 0 ]`: SON 0 bo‘lganda tsikl tugaydi.
2. `read -p`: Foydalanuvchidan yangi qiymat so‘raydi.

**Natija:**

```javascript
Son kiriting (0 - to‘xtash uchun): 7
Kiritilgan son: 7
Son kiriting (0 - to‘xtash uchun): 0
```

**Tsiklni boshqarish (break, continue)**

Bashda tsiklning ishlash jarayonini boshqarish uchun `break` va `continue` operatorlari ishlatiladi.

### Break

`break` operatori tsiklni darhol to‘xtatadi va uning tashqarisiga chiqadi.

Misol:

```javascript
#!/bin/bash

for SON in {1..10}; do
    if [ $SON -eq 5 ]; then
        echo "Tsikl 5 da to‘xtadi."
        break
    fi
    echo "Son: $SON"
done
```

**Izoh:**

1. `if [ $SON -eq 5 ]`: Agar SON 5 ga teng bo‘lsa, `break` ishlaydi.
2. `break`: Tsiklni darhol to‘xtatadi.

**Natija:**

```javascript
Son: 1
Son: 2
Son: 3
Son: 4
Tsikl 5 da to‘xtadi.
```

### Continue

`continue` operatori hozirgi iteratsiyani tugatib, keyingisiga o‘tadi.

Misol:

```javascript
#!/bin/bash

for SON in {1..5}; do
    if [ $SON -eq 3 ]; then
        echo "3 o‘tkazib yuborildi."
        continue
    fi
    echo "Son: $SON"
done
```

**Izoh:**

1. `if [ $SON -eq 3 ]`: SON 3 ga teng bo‘lganda, `continue` ishlaydi.
2. `continue`: Hozirgi iteratsiyani tugatadi va keyingisiga o‘tadi.

**Natija:**

```javascript
Son: 1
Son: 2
3 o‘tkazib yuborildi.
Son: 4
Son: 5
```

**Ichma-ich tsikllar**

Bashda bir tsikl ichida boshqa bir tsiklni ishlatish mumkin. Bu usul ikki o‘lchovli ma’lumotlar yoki murakkab hisoblashlarni bajarish uchun ishlatiladi.

### Sintaksisi:

```javascript
for o‘zgaruvchi1 in ro‘yxat1; do
    for o‘zgaruvchi2 in ro‘yxat2; do
        buyruqlar
    done
done
```

### Misol:

Matritsa shaklida ma’lumotlarni chiqarish:

```javascript
#!/bin/bash

for I in 1 2 3; do
    for J in A B C; do
        echo "$I - $J"
    done
done
```

**Izoh:**

1. Birinchi tsikl `I` o‘zgaruvchisiga 1, 2, 3 qiymatlarini o‘tkazadi.
2. Ichki tsikl har bir `I` qiymati uchun `J` o‘zgaruvchisiga A, B, C qiymatlarini beradi.

**Natija:**

```javascript
1 - A;
1 - B;
1 - C;
2 - A;
2 - B;
2 - C;
3 - A;
3 - B;
3 - C;
```

### Yana bir misol:

O‘quvchilar va ularning fanlari:

```javascript
#!/bin/bash

for TALABA in "Ali" "Vali" "Salim"; do
    for FAN in "Matematika" "Fizika" "Ingliz tili"; do
        echo "$TALABA $FAN ni o‘rganmoqda."
    done
done
```

**Natija:**

```javascript
Ali Matematika ni o‘rganmoqda.
Ali Fizika ni o‘rganmoqda.
Ali Ingliz tili ni o‘rganmoqda.
Vali Matematika ni o‘rganmoqda.
Vali Fizika ni o‘rganmoqda.
Vali Ingliz tili ni o‘rganmoqda.
Salim Matematika ni o‘rganmoqda.
Salim Fizika ni o‘rganmoqda.
Salim Ingliz tili ni o‘rganmoqda.
```

1. **Until tsikli**: Shart bajarilgunga qadar kodni qayta-qayta bajaradi.
2. **Break va Continue**: Tsiklni boshqarish imkonini beradi.
3. **Ichma-ich tsikllar**: Bir nechta tsikllarni birlashtirib murakkab vazifalarni bajarishda foydalaniladi.

Ushbu imkoniyatlardan to‘g‘ri foydalanish Bash skriptlarini yanada samarali va funksional qiladi.

***

### 7 Funktsiyalar Va Modullar

*7.1. Funktsiyalarni e’lon qilish va chaqirish*\
*7.2. Funktsiyalarga parametr uzatish*\
*7.3. Qaytarmoqchi bo‘lgan qiymatlar (return)*\
*7.4. Modullar yordamida kodni tashkil etish*\
*7.5. Kutubxonalarni skriptga ulash*

# Funktsiyalar Va Modullar

Funktsiyalar Bash skriptlashning muhim elementlaridan biri bo‘lib, ular yordamida kodni qayta ishlatish, tuzilmalarni soddalashtirish va murakkab vazifalarni kichikroq qismlarga ajratish mumkin. Quyida funksiyalarni e’lon qilish, chaqirish, ularga parametr uzatish va qiymat qaytarish haqida batafsil tushuntirish va misollar keltirilgan.

**Funktsiyalarni e’lon qilish va chaqirish**

Funktsiyalarni e’lon qilish uchun funktsiya nomi va uning ichidagi buyruqlar yoziladi. Funktsiyani chaqirish orqali ichidagi kod bajariladi.

### Sintaksisi:

```javascript
function funktsiya_nomi {
    buyruqlar
}

# Yoki alternativ:
funktsiya_nomi() {
    buyruqlar
}
```

### Misol:

Oddiy salomlashuv funktsiyasi:

```javascript
#!/bin/bash

# Funktsiyani e’lon qilish
salomlashuv() {
    echo "Salom, Bash funktsiyalari!"
}

# Funktsiyani chaqirish
salomlashuv
```

**Izoh:**

1. `salomlashuv() { ... }`: Funktsiya e’lon qilinadi.
2. `salomlashuv`: Funktsiyani chaqiradi va ichidagi kodni bajaradi.

**Natija:**

```javascript
Salom, Bash funktsiyalari!
```

**Funktsiyalarga parametr uzatish**

Funktsiyaga parametrlar uzatish orqali uni moslashuvchan qilish mumkin. Uzatilgan parametrlar `$1`, `$2`, va hokazo sifatida saqlanadi.

### Misol:

Foydalanuvchi ismiga qarab salomlashuv:

```javascript
#!/bin/bash

# Funktsiyani e’lon qilish
salomlashuv() {
    echo "Salom, $1!"
}

# Funktsiyani parametr bilan chaqirish
salomlashuv "Ali"
salomlashuv "Vali"
```

**Izoh:**

1. `$1`: Funktsiyaga uzatilgan birinchi parametrni bildiradi.
2. `salomlashuv "Ali"`: Funktsiyaga "Ali" parametri uzatiladi.

**Natija:**

```javascript
Salom, Ali!
Salom, Vali!
```

### Bir nechta parametrlar bilan ishlash:

```javascript
#!/bin/bash

# Funktsiyani e’lon qilish
hisobla() {
    echo "$1 + $2 = $(( $1 + $2 ))"
}

# Funktsiyani parametrlar bilan chaqirish
hisobla 5 10
hisobla 7 3
```

**Izoh:**

1. `$1` va `$2`: Funktsiyaga uzatilgan birinchi va ikkinchi parametrlar.
2. `$(( $1 + $2 ))`: Uzatilgan sonlarni qo‘shadi.

**Natija:**

```javascript
5 + 10 = 15
7 + 3 = 10
```

**Qaytarmoqchi bo‘lgan qiymatlar (return)**

Funktsiyalar qaytarmoqchi bo‘lgan qiymatni `return` operatori orqali qaytaradi. Qaytgan qiymat `$?` o‘zgaruvchisi orqali olinadi.

### Misol:

Sonlarni solishtirish funktsiyasi:

```javascript
#!/bin/bash

# Funktsiyani e’lon qilish
solishtir() {
    if [ $1 -gt $2 ]; then
        return 1
    elif [ $1 -lt $2 ]; then
        return 2
    else
        return 0
    fi
}

# Funktsiyani chaqirish va natijani olish
solishtir 10 5
NATIJA=$?
if [ $NATIJA -eq 1 ]; then
    echo "Birinchi son kattaroq."
elif [ $NATIJA -eq 2 ]; then
    echo "Ikkinchi son kattaroq."\else
    echo "Sonlar teng."
fi
```

**Izoh:**

1. `return`: Funktsiya natijasini qaytaradi (1, 2 yoki 0).
2. `$?`: Funktsiyaning qaytgan qiymatini saqlaydi.
3. Shart operatorlari natijaga qarab xabar chiqaradi.

**Natija:**

```javascript
Birinchi son kattaroq.
```

### Qaytarilgan qiymatni hisoblash:

Funktsiyaning qaytgan qiymatini boshqa o‘zgaruvchiga saqlash:

```javascript
#!/bin/bash

# Funktsiyani e’lon qilish
kvadrat() {
    return $(( $1 * $1 ))
}

# Funktsiyani chaqirish va natijani olish
kvadrat 6
NATIJA=$?
echo "Kvadrat: $NATIJA"

```

**Izoh:**

1. `$(( $1 * $1 ))`: Funktsiyaga uzatilgan sonning kvadrati hisoblanadi.
2. `$?`: Funktsiyaning qaytgan natijasini saqlaydi.

**Natija:**

```javascript
Kvadrat: 36;
```

1. **Funktsiyalarni e’lon qilish va chaqirish:** Kodni takrorlamaslik va tartibli qilish imkonini beradi.
2. **Parametr uzatish:** Funktsiyalarning moslashuvchanligini oshiradi.
3. **Qaytariladigan qiymatlar:** Funktsiyaning natijasi bilan keyingi hisob-kitoblarni amalga oshirishga imkon beradi.

Funktsiyalar yordamida Bash skriptlarini yanada kuchli va tuzilishga ega qilish mumkin.

#### Modullar yordamida kodni tashkil etish

Modullar Bash skriptlarida kodni yaxshiroq tashkil etish uchun ishlatiladi. Modul — bu boshqa skriptlar yoki loyihalar ichida qayta ishlatilishi mumkin bo‘lgan kod bo‘lagi.

### Modulni tashkil qilish usullari

1. **Modul fayli yaratish:** Kodni alohida faylda saqlash va uni boshqa skriptlarga ulash. Misol uchun, `my_module.sh` faylida funksiyalar e’lon qilinadi.

```javascript
#!/bin/bash

# Salomlashuv funksiyasi
salomlashuv() {
    echo "Salom, $1!"
}
```

1. **Modulni skriptga ulash:** Modul faylni `source` yoki `.` buyrug‘i yordamida asosiy skriptga ulash.

```javascript
#!/bin/bash
# Modulni ulash
source ./my_module.sh
# Moduldagi funksiyani chaqirish
salomlashuv "Ali"
```

**Izoh:**

* `source` yoki `.`: Modulni hozirgi skriptga yuklab oladi.
* Modul fayli ichidagi funksiyalar asosiy skriptda foydalanish mumkin.

**Natija:**

```javascript
Salom, Ali!
```

**Kutubxonalarni skriptga ulash**

Bashda mavjud kutubxonalar yoki modullarni ulash kodni soddalashtirish va qayta ishlatish imkonini beradi. Bu usul kengroq loyihalar uchun juda qulay.

### Misol:

Matematik hisoblashlar kutubxonasini ulash:

1. `math_lib.sh` faylini yarating:

```javascript
#!/bin/bash
# Kvadrat hisoblash funksiyasi
kvadrat() {
    echo $(( $1 * $1 ))
}
# Ko‘paytirish funksiyasi
kopaytirish() {
    echo $(( $1 * $2 ))
}
```

1. Kutubxonani asosiy skriptga ulang:

```javascript
#!/bin/bash
# Kutubxonani ulash
source ./math_lib.sh

# Funksiyalarni chaqirish
echo "5 ning kvadrati: $(kvadrat 5)"
echo "3 * 4 = $(kopaytirish 3 4)"
```

**Natija:**

```javascript
5 ning kvadrati: 25
3 * 4 = 12
```

### Afzalliklari:

1. **Kodni qayta ishlatish:** Bir marta yozilgan kodni boshqa skriptlarda ishlatish imkoniyati.
2. **Kod tuzilmasini yaxshilash:** Modullar yordamida kod ancha o‘qilishi oson va tartibli bo‘ladi.
3. **Jamoaviy ishlash:** Loyihada bir nechta dasturchilar ishlaganda, kodni alohida modullarga ajratish qulaylik yaratadi.
4. **Modullar yordamida kodni tashkil qilish** skriptlarni yanada tartibli qiladi va kodni qayta ishlatish imkonini beradi.
5. **Kutubxonalarni ulash** orqali kengroq funksionallikni qo‘shish mumkin.

***

### 8 Fayllar Va Papkalar Bilan Ishlash

*8.1. Fayl va kataloglarning mavjudligini tekshirish*\
*8.2. Fayllarni o‘qish va yozish (cat, echo, >, >>)*\
*8.3. Kataloglarni yaratish va o‘chirish (mkdir, rmdir)*\
*8.4. Fayl hajmi va turi bilan ishlash (stat)*\
*8.5. Fayllarni avtomatik arxivlash*

Bash skriptlashda fayllar va kataloglar bilan ishlash keng qo‘llaniladi. Fayllarni tekshirish, ularga yozish, o‘qish yoki kataloglarni boshqarish orqali tizimdagi ko‘plab vazifalarni avtomatlashtirish mumkin. Quyida fayllar va kataloglar bilan ishlashning asosiy usullari va amaliy misollar keltirilgan.

**Fayl va kataloglarning mavjudligini tekshirish**

Bash skriptlarida fayl yoki katalogning mavjudligini tekshirish uchun

`[ -e ]`, `[ -f ]` va `[ -d ]` kabi shart operatorlaridan foydalaniladi.

### Sintaksisi:

```javascript
if [ shart ]; then
    buyruqlar
fi
```

### Misol:

Faylning mavjudligini tekshirish:

```javascript
#!/bin/bash

FAYL="test.txt"

if [ -e "$FAYL" ]; then
    echo "$FAYL mavjud."
else
    echo "$FAYL mavjud emas."
fi

```

**Izoh:**

* `[ -e "$FAYL" ]`: Fayl mavjudligini tekshiradi (katalog yoki oddiy fayl bo‘lishi mumkin).
* `echo`: Natijaga qarab xabar chiqaradi.

**Natija:**

```javascript
test.txt mavjud emas.

```

### Katalogning mavjudligini tekshirish:

```javascript
#!/bin/bash

KATALOG="my_folder"

if [ -d "$KATALOG" ]; then
    echo "$KATALOG katalogi mavjud."
else
    echo "$KATALOG katalogi mavjud emas."
fi

```

**Izoh:**

* `[ -d "$KATALOG" ]`: Faqat kataloglarni tekshiradi.

**Natija:**

```javascript
my_folder katalogi mavjud emas.
```

**Fayllarni o‘qish va yozish (cat, echo, >, >>)**

Fayllarga yozish va ularni o‘qish uchun Bashda `echo`, `cat`, `>` va `>>` kabi vositalar ishlatiladi.

### Faylga yozish:

1. `>` operatori faylga yozadi (mavjud ma’lumotni o‘chirib tashlaydi):

```javascript
#!/bin/bash

echo "Bu yangi ma’lumot." > yangi_fayl.txt
```

**Izoh:**

* `>`: Fayldagi mavjud ma’lumotni o‘chirib tashlaydi va yangi ma’lumotni yozadi.

1. `>>` operatori faylga ma’lumot qo‘shadi (mavjud ma’lumotni saqlab qoladi):

```javascript
#!/bin/bash

echo "Qo‘shimcha ma’lumot." >> yangi_fayl.txt
```

**Izoh:**

* `>>`: Fayldagi mavjud ma’lumotni saqlab, yangi ma’lumot qo‘shadi.

### Faylni o‘qish:

1. `cat` buyruq yordamida fayldagi barcha ma’lumotni chiqarish:

```javascript
#!/bin/bash

cat yangi_fayl.txt
```

**Izoh:**

* `cat`: Fayl tarkibini o‘qib ekranga chiqaradi.

1. Faylni qatorma-qator o‘qish:

```javascript
#!/bin/bash

while read QATOR; do
    echo "Qator: $QATOR"
done < yangi_fayl.txt

```

**Izoh:**

* `read QATOR`: Fayldagi har bir qatorni o‘qiydi va `$QATOR` ga saqlaydi.

**Natija:**

```javascript
Qator: Bu yangi ma’lumot.
Qator: Qo‘shimcha ma’lumot.
```

**Kataloglarni yaratish va o‘chirish (mkdir, rmdir)**

Bashda kataloglar bilan ishlash uchun `mkdir` (yaratish) va `rmdir` (bo‘sh kataloglarni o‘chirish) buyrug‘idan foydalaniladi.

### Katalogni yaratish:

1. Oddiy katalog yaratish:

```javascript
#!/bin/bash

mkdir yangi_katalog
```

**Izoh:**

* `mkdir`: Yangi katalogni yaratadi.
* `yangi_katalog`: Yaratilayotgan katalog nomi.

1. Katalogni mavjudligini tekshirib yaratish:

```javascript
#!/bin/bash

KATALOG="my_folder"

if [ ! -d "$KATALOG" ]; then
    mkdir "$KATALOG"
    echo "$KATALOG yaratildi."
else
    echo "$KATALOG allaqachon mavjud."
fi

```

**Izoh:**

* `[ ! -d "$KATALOG" ]`: Agar katalog mavjud bo‘lmasa, yangi katalog yaratiladi.

**Natija:**

```javascript
my_folder yaratildi.
```

### Katalogni o‘chirish:

1. Bo‘sh katalogni o‘chirish:

```javascript
#!/bin/bash

rmdir yangi_katalog
```

**Izoh:**

* `rmdir`: Faqat bo‘sh kataloglarni o‘chirish uchun ishlatiladi.

1. Ichida fayllar bo‘lgan katalogni o‘chirish:

```javascript
#!/bin/bash

rm -r yangi_katalog
```

**Izoh:**

* `rm -r`: Katalog ichidagi barcha fayl va papkalarni o‘chiradi.

**Ogohlantirish:**`rm -r` ni ishlatishda ehtiyot bo‘ling, chunki u barcha ma’lumotlarni qaytarib bo‘lmas tarzda o‘chiradi.

1. **Fayl va kataloglarning mavjudligini tekshirish**: Bash orqali tizimdagi fayl yoki katalogning mavjudligini osongina aniqlash mumkin.
2. **Fayllarni o‘qish va yozish**: `cat`, `echo`, `>`, va `>>` buyrug‘idan foydalanib fayllar bilan ishlash qulay.
3. **Kataloglarni yaratish va o‘chirish**: `mkdir` va `rmdir` yordamida kataloglarni boshqarish mumkin.

Fayllar va kataloglar bilan ishlash vositalari Bash skriptlashda avtomatlashtirish va tizim boshqaruvi uchun juda foydali hisoblanadi.

**Fayl hajmi va turi bilan ishlash (stat)**

Bashda faylning hajmi va turi haqida batafsil ma’lumot olish uchun `stat` buyrug‘i ishlatiladi. Bu buyruq fayl yoki katalog haqidagi texnik ma’lumotlarni chiqaradi.

### Sintaksisi:

```javascript
stat fayl_nomi
```

### Misol:

Fayl haqidagi ma’lumotlarni ko‘rish:

```javascript
#!/bin/bash

FAYL="test.txt"
stat "$FAYL"

```

**Izoh:**

1. `stat "$FAYL"`: `test.txt` fayli haqida quyidagi ma’lumotlarni chiqaradi:

   * Fayl hajmi.
   * Faylning yaratilgan va o‘zgartirilgan vaqti.
   * Ruxsat darajalari.
   * Egasi va guruh haqida ma’lumot.

**Natija:**

```javascript
 Fayl: test.txt
 Hajm: 123 bytes
 Egasi: foydalanuvchi
 Guruh: usergroup
 Oxirgi o‘zgarish: 2025-01-16 12:00:00

```

### Faylning faqat hajmini olish:

```javascript
#!/bin/bash

FAYL="test.txt"
Hajm=$(stat --format=%s "$FAYL")
echo "$FAYL hajmi: $Hajm bayt."

```

**Izoh:**

* `--format=%s`: Faylning hajmini (baytlarda) qaytaradi.
* `$Hajm`: Olingan hajmni saqlash uchun o‘zgaruvchi.

**Natija:**

```javascript
test.txt hajmi: 123 bayt.
```

### Faylning turi haqida ma’lumot olish:

```javascript
#!/bin/bash

FAYL="test.txt"
TUR=$(stat --format=%F "$FAYL")
echo "$FAYL turi: $TUR."

```

**Izoh:**

* `--format=%F`: Fayl turini qaytaradi (masalan, oddiy fayl, katalog, yoki maxsus fayl).
* `$TUR`: Olingan turni saqlash uchun o‘zgaruvchi.

**Natija:**

```javascript
test.txt turi: Oddiy fayl.
```

**Fayllarni avtomatik arxivlash**

Bash skriptlarda fayllarni zaxiralash yoki saqlash uchun avtomatik arxivlash amalga oshiriladi. Arxivlash uchun odatda `tar` yoki `zip` buyrug‘idan foydalaniladi.

### Fayllarni `tar` yordamida arxivlash:

`tar` buyrug‘i bir nechta fayl va kataloglarni bitta arxiv fayliga jamlaydi.

#### Oddiy misol:

```javascript
#!/bin/bash

ARXIV_NOMI="zaxira.tar"
FAYLLAR="file1.txt file2.txt"

# Fayllarni arxivlash
tar -cvf "$ARXIV_NOMI" $FAYLLAR
echo "Fayllar arxivlandi: $ARXIV_NOMI"
```

**Izoh:**

* `-c`: Arxiv yaratish.
* `-v`: Jarayonni batafsil ko‘rsatish.
* `-f`: Arxiv nomini ko‘rsatish.

**Natija:**

```javascript
Fayllar arxivlandi: zaxira.tar

```

### Fayllarni siqish bilan arxivlash:

`tar` buyrug‘i bilan `gzip` siqishni qo‘llash:

```javascript
#!/bin/bash

ARXIV_NOMI="zaxira.tar.gz"
FAYLLAR="file1.txt file2.txt"

# Fayllarni arxivlash va siqish
tar -czvf "$ARXIV_NOMI" $FAYLLAR
echo "Fayllar siqilgan holda arxivlandi: $ARXIV_NOMI"

```

**Izoh:**

* `-z`: Arxivni siqish uchun `gzip`ni qo‘llash.

**Natija:**

```javascript
Fayllar siqilgan holda arxivlandi: zaxira.tar.gz

```

### Fayllarni `zip` yordamida arxivlash:

`zip` buyrug‘i bilan arxiv yaratish:

```javascript
#!/bin/bash

ARXIV_NOMI="zaxira.zip"
FAYLLAR="file1.txt file2.txt"

# Fayllarni zip formatda arxivlash
zip "$ARXIV_NOMI" $FAYLLAR
echo "Fayllar zip formatda arxivlandi: $ARXIV_NOMI"
```

**Izoh:**

* `zip`: Fayllarni siqib arxivlash.
* `$ARXIV_NOMI`: Yaratilayotgan arxiv nomi.

**Natija:**

```javascript
Fayllar zip formatda arxivlandi: zaxira.zip
```

### Katalogni arxivlash:

Katalogni ichidagi barcha fayllar bilan birga arxivlash:

```javascript
#!/bin/bash

KATALOG="my_folder"
ARXIV_NOMI="katalog_zaxira.tar.gz"

# Katalogni arxivlash va siqish
tar -czvf "$ARXIV_NOMI" "$KATALOG"
echo "$KATALOG siqilgan holda arxivlandi: $ARXIV_NOMI"
```

**Natija:**

```javascript
my_folder siqilgan holda arxivlandi: katalog_zaxira.tar.gz
```

1. **Fayl hajmi va turi bilan ishlash:** `stat` buyrug‘i yordamida fayl hajmi, turi, yaratilgan vaqti kabi texnik ma’lumotlarni olish mumkin.
2. **Fayllarni avtomatik arxivlash:** `tar` va `zip` yordamida fayllarni zaxiralash va siqish imkoniyati mavjud.

***

### 9 Muhit O‘zgaruvchilari Va Parametrlar

*9.1. Muhit o‘zgaruvchilari bilan ishlash*\
*9.2. Komanda satri parametrlarini qabul qilish ($1, $2, $@)*\
*9.3. Parametrlarni validatsiya qilish va xatolarni qayta ishlash*\
*9.4. Default qiymatlar bilan ishlash*

Muhit o‘zgaruvchilari va parametrlar Bash skriptlashda foydalanuvchi bilan muloqot qilish, tizim muhitidan ma’lumot olish va skriptning moslashuvchanligini oshirish uchun muhim vositalardir. Quyida muhit o‘zgaruvchilari, komanda satri parametrlarini qabul qilish, parametrlarni validatsiya qilish va xatolarni qayta ishlash, hamda default qiymatlar bilan ishlash haqida batafsil tushuntirishlar keltirilgan.

**Muhit o‘zgaruvchilari bilan ishlash**

Muhit o‘zgaruvchilari operatsion tizim tomonidan boshqariladigan o‘zgaruvchilar bo‘lib, ular Bash skriptlarga tizim haqidagi ma’lumotlarni taqdim etadi. Muhit o‘zgaruvchilariga

`$PATH`, `$HOME`, `$USER` kabi o‘zgaruvchilar kiradi.

### Misol:

Muhit o‘zgaruvchilarini o‘qish va chiqarish:

```javascript
#!/bin/bash

# Muhit o‘zgaruvchilarini chiqarish
echo "Foydalanuvchi nomi: $USER"
echo "Uy katalogi: $HOME"
echo "Tizim yo‘llari: $PATH"
```

**Izoh:**

1. `$USER`: Joriy foydalanuvchi nomini ko‘rsatadi.
2. `$HOME`: Foydalanuvchining asosiy katalogi.
3. `$PATH`: Tizimdagi bajariladigan fayllar yo‘llarining ro‘yxati.

**Natija:**

```javascript
Foydalanuvchi nomi: ali
Uy katalogi: /home/ali
Tizim yo‘llari: /usr/local/bin:/usr/bin:/bin
```

Muhit o‘zgaruvchilariga yangi qiymat berish:

```javascript
#!/bin/bash

# Yangi muhit o‘zgaruvchisini belgilash
MY_VAR="Salom, Bash!"
echo "$MY_VAR"
```

**Natija:**

```javascript
Salom, Bash!
```

**Komanda satri parametrlarini qabul qilish ($1, $2, $@)**

Komanda satri parametrlarini Bash skriptga uzatish orqali dinamik ma’lumotlar bilan ishlash mumkin. Ushbu parametrlar `$1`, `$2`, `$@`, va boshqalar orqali o‘qiladi.

### Misol:

Parametrlarni o‘qish:

```javascript
#!/bin/bash

# Parametrlarni chiqarish
echo "Birinchi parametr: $1"
echo "Ikkinchi parametr: $2"
echo "Barcha parametrlar: $@"
```

Skriptni chaqirish:

```javascript
bash skript.sh ali vali
```

**Natija:**

```javascript
Birinchi parametr: ali
Ikkinchi parametr: vali
Barcha parametrlar: ali vali
```

**Parametrlarni validatsiya qilish va xatolarni qayta ishlash**

Parametrlarni validatsiya qilish skriptga noto‘g‘ri yoki etarli ma’lumot uzatilgan holatlarda foydalanuvchiga xatolikni ko‘rsatish imkonini beradi.

### Misol:

Kamida bitta parametr talab qiladigan skript:

```javascript
#!/bin/bash

if [ $# -lt 1 ]; then
    echo "Xatolik: Kamida bitta parametr kiritishingiz kerak."
    exit 1
fi

echo "Kiritilgan parametrlar: $@"
```

**Izoh:**

1. `$#`: Parametrlar sonini bildiradi.
2. `exit 1`: Skriptni xato bilan to‘xtatadi.

Skriptni chaqirish:

```javascript
bash skript.sh
```

**Natija:**

```javascript
Xatolik: Kamida bitta parametr kiritishingiz kerak.
```

Parametrlarning to‘g‘riligini tekshirish:

```javascript
#!/bin/bash

if [[ ! "$1" =~ ^[0-9]+$ ]]; then
    echo "Xatolik: Birinchi parametr butun son bo‘lishi kerak."
    exit 1
fi

echo "Siz kiritgan son: $1"
```

**Izoh:**

* `[[ ... ]]`: Murakkab shartlarni tekshirish uchun ishlatiladi.
* `^`: Matn boshidan boshlab tekshiradi.
* `[0-9]+`: Butun sonlar uchun shablon.

Skriptni chaqirish:

```javascript
bash skript.sh 123
```

**Natija:**

```javascript
Siz kiritgan son: 123
```

**Default qiymatlar bilan ishlash**

Agar foydalanuvchi parametr kiritmasa, skriptga standart qiymatni o‘rnatish orqali muammolarni oldini olish mumkin.

### Misol:

Parametrlar uchun standart qiymat:

```javascript
#!/bin/bash

ISM=${1:-"Foydalanuvchi"}

echo "Salom, $ISM!"
```

**Izoh:**

* `${1:-"Foydalanuvchi"}`: Agar `$1` bo‘sh yoki yo‘q bo‘lsa, "Foydalanuvchi" qiymati ishlatiladi.

Skriptni chaqirish:

```javascript
bash skript.sh
```

**Natija:**

```javascript
Salom, Foydalanuvchi!
```

Agar parametr uzatilsa:

```javascript
bash skript.sh Ali
```

**Natija:**

```javascript
Salom, Ali!
```

1. **Muhit o‘zgaruvchilari:** Tizim haqidagi ma’lumotlarni o‘qish va ulardan foydalanish imkonini beradi.
2. **Komanda satri parametrlarini qabul qilish:** Skriptni dinamik qilish imkoniyatini beradi.
3. **Parametrlarni validatsiya qilish:** Foydalanuvchi tomonidan kiritilgan ma’lumotlarning to‘g‘riligini tekshiradi.
4. **Default qiymatlar:** Parametrlar yo‘q bo‘lgan hollarda skriptning ishlashini ta’minlaydi.

Ushbu amaliyotlar Bash skriptlarini moslashuvchan, xavfsiz va foydalanuvchiga qulay qilish uchun juda foydali.

***

### 10 Bashda Massivlar

*10.1. Massivlarni e’lon qilish va ularga qiymat berish*\
*10.2. Massiv elementlarini o‘qish va o‘zgartirish*\
*10.3. Massivlar ustida tsikl bilan ishlash*\
*10.4. Dinamik massivlarni boshqarish*

# *Bashda Massivlar*

Massivlar Bash skriptlashning muhim qismi bo‘lib, ular bir nechta qiymatlarni bitta o‘zgaruvchida saqlash imkonini beradi. Bu turdagi ma’lumotlar bilan ishlash skriptlarni yanada moslashuvchan va kuchli qiladi. Quyida massivlarni e’lon qilish, ularga qiymat berish, elementlarni o‘qish va o‘zgartirish, tsikllar yordamida ularga ishlov berish va dinamik massivlarni boshqarish haqida batafsil tushuntirish keltirilgan.

**Massivlarni e’lon qilish va ularga qiymat berish**

Massivlarni e’lon qilishda qiymatlar qatoriga o‘raladi va bitta o‘zgaruvchi nomi orqali saqlanadi.

### Sintaksisi:

```javascript
massiv_nomi=(qiymat1 qiymat2 qiymat3)
```

### Misol:

Oddiy massiv yaratish:

```javascript
#!/bin/bash

# Massivni e’lon qilish
ismlar=("Ali" "Vali" "Salim")

# Massivni chiqarish
echo "Birinchi ism: ${ismlar[0]}"
echo "Ikkinchi ism: ${ismlar[1]}"
echo "Uchinchi ism: ${ismlar[2]}"

```

**Izoh:**

1. `ismlar=("Ali" "Vali" "Salim")`: `ismlar` massiviga uchta qiymat beriladi.
2. `${ismlar[0]}`: Massivning birinchi elementi (`Ali`).
3. Massivdagi elementlar indekslash orqali chaqiriladi (indeks 0 dan boshlanadi).

**Natija:**

```javascript
Birinchi ism: Ali
Ikkinchi ism: Vali
Uchinchi ism: Salim

```

Massivni keyinchalik qiymat bilan to‘ldirish:

```javascript
#!/bin/bash

# Massivni e’lon qilish
sonlar=()

# Qiymatlarni massivga qo‘shish
sonlar[0]=10
sonlar[1]=20
sonlar[2]=30

# Massivni chiqarish
echo "Massiv elementlari: ${sonlar[@]}"
```

**Natija:**

```javascript
Massiv elementlari: 10 20 30
```

**Massiv elementlarini o‘qish va o‘zgartirish**

Massiv elementlariga indeks orqali murojaat qilinadi va ular o‘qiladi yoki o‘zgartiriladi.

### Elementlarni o‘qish:

```javascript
#!/bin/bash

ismlar=("Ali" "Vali" "Salim")

echo "Uchinchi ism: ${ismlar[2]}"
```

**Natija:**

```javascript
Uchinchi ism: Salim
```

### Elementlarni o‘zgartirish:

```javascript
#!/bin/bash

ismlar=("Ali" "Vali" "Salim")

# Elementni o‘zgartirish
ismlar[1]="Hasan"

echo "Yangi ikkinchi ism: ${ismlar[1]}"
```

**Natija:**

```javascript
Yangi ikkinchi ism: Hasan
```

**Massivlar ustida tsikl bilan ishlash**

Tsikllar yordamida massivning barcha elementlarini qayta ishlash mumkin.

### Misol:

Massiv elementlarini `for` tsikli yordamida chiqarish:

```javascript
#!/bin/bash

ismlar=("Ali" "Vali" "Salim")

for ism in "${ismlar[@]}"; do
    echo "Ism: $ism"
done
```

**Izoh:**

* `${ismlar[@]}`: Massivning barcha elementlarini oladi.
* `for ism in ...`: Har bir elementni tsikl ichida `ism` o‘zgaruvchisiga o‘tkazadi.

**Natija:**

```javascript
Ism: Ali;
Ism: Vali;
Ism: Salim;
```

Massiv elementlarini indeks orqali chiqarish:

```javascript
#!/bin/bash

ismlar=("Ali" "Vali" "Salim")

for indeks in ${!ismlar[@]}; do
    echo "Indeks: $indeks, Ism: ${ismlar[$indeks]}"
done
```

**Izoh:**

* `${!ismlar[@]}`: Massivning barcha indekslarini qaytaradi.
* `${ismlar[$indeks]}`: Har bir indeksga mos qiymatni oladi.

**Natija:**

```javascript
Indeks: 0, Ism: Ali
Indeks: 1, Ism: Vali
Indeks: 2, Ism: Salim
```

**Dinamik massivlarni boshqarish**

Massivlarga elementlarni dinamik qo‘shish yoki olib tashlash mumkin.

### Element qo‘shish:

```javascript
#!/bin/bash

sonlar=(10 20 30)

# Yangi element qo‘shish
sonlar+=(40)

echo "Yangilangan massiv: ${sonlar[@]}"

```

**Natija:**

```javascript
Yangilangan massiv: 10 20 30 40
```

### Elementni o‘chirish:

Massivdan ma’lum bir elementni olib tashlash:

```javascript
#!/bin/bash

sonlar=(10 20 30 40)

# Elementni o‘chirish
unset sonlar[1]

echo "Yangilangan massiv: ${sonlar[@]}"
```

**Natija:**

```javascript
Yangilangan massiv: 10 30 40
```

### Massivning uzunligini olish:

```javascript
#!/bin/bash

sonlar=(10 20 30 40)

echo "Massiv uzunligi: ${#sonlar[@]}"
```

**Natija:**

```javascript
Massiv uzunligi: 4
```

1. **Massivlarni e’lon qilish va ularga qiymat berish:** Bir nechta qiymatlarni saqlash imkonini beradi.
2. **Elementlarni o‘qish va o‘zgartirish:** Indeks orqali massiv bilan ishlash osonlashadi.
3. **Tsikl bilan ishlash:** Massivning barcha elementlarini qayta ishlash imkonini beradi.
4. **Dinamik massivlar:** Elementlarni qo‘shish yoki o‘chirish imkonini beradi.

Massivlar yordamida Bash skriptlari kuchliroq va moslashuvchan bo‘ladi.

***

### 11 Regulyar Ifodalar (Regex)

*11.1. Regulyar ifodalar asoslari*\
*11.2. grep yordamida ma’lumotlarni filtrlash*\
*11.3. sed bilan matnni o‘zgartirish va tahrirlash*\
*11.4. Murakkab ma’lumotlarni qayta ishlash*

# Bashda Regulyar Ifodalar (Regex)

Regulyar ifodalar (Regex) — bu matnni izlash, moslashtirish va o‘zgartirish uchun foydalaniladigan qudratli vosita. Bash skriptlashda regulyar ifodalar matnni qayta ishlash va murakkab ma’lumotlarni tahlil qilishda keng qo‘llaniladi. Quyida regulyar ifodalar asoslari, `grep` yordamida filtrlash, `sed` bilan matnni o‘zgartirish va murakkab ma’lumotlarni qayta ishlash usullari keltirilgan.

**Regulyar Ifodalar Asoslari**

Regulyar ifodalar matnda ma’lum shablonlarga mos keladigan qatorlarni qidirish va tahlil qilish imkonini beradi.

### Asosiy belgilar:

1. `.` — Bitta ixtiyoriy belgiga mos keladi.
2. `*` — Oldingi belgining 0 yoki undan ko‘p marta takrorlanishiga mos keladi.
3. `^` — Qator boshini bildiradi.
4. `$` — Qator oxirini bildiradi.
5. `[ ]` — Belgilar diapazoni.
6. `|` — "Yoki" mantiqiy operatori.

### Misol:

Telefon raqamini aniqlash uchun regulyar ifoda:

```javascript
#!/bin/bash

echo "Telefon: +998-90-123-45-67" | grep
-E "\+998-[0-9]{2}-[0-9]{3}-[0-9]{2}-[0-9]{2}"
```

**Izoh:**

1. `+998` — Telefon kodi.
2. `[0-9]{2}` — 0 dan 9 gacha bo‘lgan raqamlar, 2 marta.
3. `grep -E` — Kengaytirilgan regulyar ifoda (ERE).

**Natija:**

```javascript
Telefon: +998 - 90 - 123 - 45 - 67;
```

**Grep Yordamida Ma’lumotlarni Filtrlash**

`grep` buyrug‘i matnni qidirish va filtr qilish uchun ishlatiladi. U regulyar ifodalarni qo‘llab-quvvatlaydi va mos kelgan qatorlarni chiqaradi.

### Sintaksisi:

```javascript
grep [opsiyalar] "ifoda" fayl
```

### Misol:

Fayldan "Error" so‘zini qidirish:

```javascript
#!/bin/bash
grep "Error" log.txt
```

**Izoh:**

* `grep "Error"`: Fayldagi "Error" so‘zi mavjud bo‘lgan qatorlarni chiqaradi.

### Katta-kichik harflarni e’tiborsiz qoldirish:

```javascript
#!/bin/bash
grep -i "error" log.txt
```

**Izoh:**

* `-i`: Harf registrini e’tiborsiz qoldiradi.

### Natijani raqamlash:

```javascript
#!/bin/bash
grep -n "Error" log.txt
```

**Izoh:**

* `-n`: Mos kelgan qatorlarning raqamlarini chiqaradi.

### Fayllar ichidan so‘zlarni qidirish:

```javascript
#!/bin/bash
grep -r "bash" /etc
```

**Izoh:**

* `-r`: Katalog ichida rekursiv qidirish.

**Sed Bilan Matnni O‘zgartirish va Tahrirlash**

`sed` buyrug‘i matnni oqimda tahrirlash uchun ishlatiladi. Bu vosita qatorlarni o‘zgartirish, qo‘shish yoki o‘chirish imkonini beradi.

### Sintaksisi:

```javascript
sed [opsiyalar] "ifoda" fayl
```

### Misol:

Matndagi so‘zlarni almashtirish:

```javascript
#!/bin/bash

sed 's/Oldingi/Yangi/g' fayl.txt
```

**Izoh:**

* `s`: O‘zgartirish buyruqni bildiradi.
* `g`: Hammasini almashtirish (birinchi mos kelgandan boshlab).

### Qatorni o‘chirish:

```javascript
#!/bin/bash

sed '/Delete this line/d' fayl.txt

```

**Izoh:**

* `/Delete this line/`: "Delete this line" jumlasi mavjud qatorlarni topadi.
* `d`: O‘chirish.

### Qator qo‘shish:

```javascript
#!/bin/bash

sed '/pattern/a Yangi qator qo‘shildi' fayl.txt

```

**Izoh:**

* `/pattern/`: Belgilangan shablonni qidiradi.
* `a`: Shablondan keyin qator qo‘shadi.

**Murakkab Ma’lumotlarni Qayta Ishlash**

Regulyar ifodalar, `grep`, va `sed` yordamida murakkab ma’lumotlarni tahlil qilish va o‘zgartirish mumkin.

### Misol:

Email manzillarni ajratib olish:

```javascript
#!/bin/bash

echo "ali@example.com vali@gmail.com" | grep -o -E "[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"

```

**Izoh:**

* `[a-zA-Z0-9._%+-]`: Emailning lokal qismi.
* `@[a-zA-Z0-9.-]+`: Domen qismi.
* `\.[a-zA-Z]{2,}`: Domen kengaytmasi.

### Log fayldan IP manzillarni chiqarish:

```javascript
#!/bin/bash

grep -o -E "([0-9]{1,3}\.){3}[0-9]{1,3}" access.log

```

**Izoh:**

* `([0-9]{1,3}\.){3}[0-9]{1,3}`: IPv4 manzil shabloni.

### Matnni qayta formatlash:

```javascript
#!/bin/bash

echo "Ali,25\nVali,30" | sed 's/,/ - Yoshi: /g'
```

**Izoh:**

* `s/,/ - Yoshi: /g`: Vergulni " - Yoshi: " bilan almashtiradi.

**Natija:**

```javascript
Ali - Yoshi: 25
Vali - Yoshi: 30
```

1. **Regulyar ifodalar:** Matnni tahlil qilish va mos shablonlarni qidirishda qulay vosita.
2. **Grep yordamida filtrlash:** Ma’lumotlarni qidirish va kerakli qatorlarni ajratib olish imkonini beradi.
3. **Sed yordamida tahrirlash:** Matnni o‘zgartirish, qo‘shish yoki o‘chirishda kuchli vosita.
4. **Murakkab ma’lumotlarni qayta ishlash:** Turli vositalarni birlashtirib murakkab tahlillarni avtomatlashtirish mumkin.

Ushbu vositalardan to‘g‘ri foydalanish Bash skriptlash imkoniyatlarini sezilarli darajada kengaytiradi.

***

# Avtomatlashtirish Asoslari

Bashda avtomatlashtirish skriptlarni belgilangan vaqtda bajarish, kechiktirilgan vazifalarni ishga tushirish yoki tizim holatini doimiy ravishda kuzatish imkonini beradi. Quyida `cron`, `at`, `batch` kabi vositalar va boshqa avtomatlashtirish texnikalari haqida batafsil tushuntirish keltirilgan.

## Cron Yordamida Vaqt Bo‘yicha Vazifalarni Bajarish

`cron` — bu tizimda vazifalarni belgilangan vaqtda avtomatik ravishda ishga tushiradigan xizmat. Vazifalar `crontab` faylida yoziladi. Bu vosita qayta-qayta bajariladigan vazifalar uchun juda qulay.

### Crontab Formati:

Crontab har bir qatorida quyidagi formatda yoziladi:

```javascript
* * * * * buyruq
- - - - -
| | | | |
| | | | +--- Haftaning kuni (0 - yakshanba, 6 - shanba)
| | | +----- Oy (1 - 12)
| | +------- Kun (1 - 31)
| +--------- Soat (0 - 23)
+----------- Daqiqa (0 - 59)

```

### Misol:

Hamma 5 daqiqada ishlaydigan skript:

```javascript
*/5 * * * * /home/user/myscript.sh
```

**Izoh:**

* `*/5`: Har 5 daqiqada.
* `/home/user/myscript.sh`: Ishga tushadigan skript.

### Crontab Yaratish va Tahrirlash:

Crontab faylni yaratish yoki tahrirlash uchun:

```javascript
crontab - e;
```

Crontab ro‘yxatini ko‘rish uchun:

```javascript
crontab - l;
```

### Skriptni belgilangan vaqtda bajarish:

Har kuni soat 00:00 da zaxiralash:

```javascript
0 0 * * * /home/user/backup.sh
```

## At va Batch Yordamida Kechiktirilgan Bajarish

`at` va `batch` buyruqlari bir martalik vazifalarni belgilangan vaqtda yoki tizim bo‘shlig‘iga qarab bajarish imkonini beradi.

### At Buyrug‘i:

`at` buyrug‘i vaqtga asoslangan vazifalarni ishga tushiradi. Bu bir martalik vazifalar uchun juda mos.

#### Misol:

Soat 15:00 da ishga tushadigan skript:

```javascript
at 15:00
```

Buyruq kiritilgach, terminalga vazifani yozish va `Ctrl+D` bilan tasdiqlash kerak:

```javascript
/home/user/myscript.sh
```

At vazifalarini ko‘rish:

```javascript
atq;
```

Vazifani o‘chirish:

```javascript
atrm[vazifa_ID];
```

### Batch Buyrug‘i:

`batch` buyrug‘i tizimning yuk holatiga asoslangan vazifalarni ishga tushiradi.

#### Misol:

Tizim bo‘sh bo‘lganda skriptni bajarish:

```javascript
batch;
```

Keyin vazifani yozing va `Ctrl+D` bilan tasdiqlang:

```javascript
/home/user/myscript.sh
```

## Skriptlarni Fon Jarayoni Sifatida Ishga Tushirish

Bashda jarayonlarni fon rejimida ishga tushirish orqali terminalni boshqa ishlarga foydalanish mumkin. Bu uzoq vaqt davom etadigan jarayonlar uchun juda qulay.

### Misol:

Oddiy fon jarayoni:

```javascript
#!/bin/bash
sleep 60 &
echo "Jarayon fon rejimida ishga tushirildi."
```

**Izoh:**

* `&`: Buyruqni fon rejimida bajarishni bildiradi.

### Ishlayotgan jarayonlarni kuzatish:

Fon rejimida ishlayotgan jarayonlarni ko‘rish:

```javascript
jobs;
```

### Jarayonni boshqarish:

Fon jarayonni faol rejimga qaytarish:

```javascript
fg % [jarayon_ID];
```

Fon jarayonni o‘chirish:

```javascript
kill % [jarayon_ID];
```

#### Disk Hajmini Avtomatik Kuzatish va Xabar Berish

Disk hajmi tugab qolishini avtomatik kuzatish va foydalanuvchiga xabar berish uchun Bash skript yozish mumkin.

### Misol:

Disk hajmi bo‘yicha ogohlantirish:

```javascript
#!/bin/bash
# Disk hajmini olish
DISK_USAGE=$(df / | tail -1 | awk '{print $5}' | sed 's/%//')
# Limitni belgilash
LIMIT=80
if [ "$DISK_USAGE" -ge "$LIMIT" ]; then
    echo "Ogohlantirish: Disk hajmi $DISK_USAGE% band!"
    # Elektron pochta orqali xabar yuborish (masalan, mailx buyrug‘i orqali):
    # echo "Disk hajmi $DISK_USAGE% band!" | mail -s "Disk hajmi ogohlantirishi" user@example.com
else
    echo "Disk hajmi normal: $DISK_USAGE% band."
fi
```

**Izoh:**

1. `df /`: Katalogning disk hajmini olish.
2. `awk '{print $5}'`: Disk bandlik foizini chiqaradi.
3. `sed 's/%//'`: Foiz belgisini olib tashlaydi.
4. `if`: Disk bandligi belgilangan limitdan oshsa, xabar chiqaradi.

**Natija:**

```javascript
Ogohlantirish: Disk hajmi 85% band!
```

1. **Cron:** Vazifalarni belgilangan vaqtda avtomatik ishga tushiradi.
2. **At va Batch:** Bir martalik yoki tizim bo‘shlig‘iga asoslangan vazifalarni bajaradi.
3. **Fon jarayonlari:** Terminalni band qilmasdan jarayonlarni bajarish imkonini beradi.
4. **Disk kuzatuv skripti:** Disk hajmini avtomatik kuzatib, foydalanuvchini xabardor qiladi.

Bash skriptlash yordamida avtomatlashtirish tizimni samarali boshqarish va resurslarni kuzatishda qulay vosita hisoblanadi.

***

#### 13 Xatoliklarni Boshqarish

*13.1. Exit kodlari va ularning roli*\
*13.2. trap yordamida xatoliklarni tuzatish*\
*13.3. Log fayllarni yaratish va monitoring qilish*\
*13.4. Xavfsiz skriptlash usullari*

\_\_

Bash skriptlashda xatoliklarni boshqarish va oldini olish juda muhimdir. Bu jarayon tizimning ishonchliligini oshirish, foydalanuvchiga tushunarli xabarlarni taqdim etish va potentsial muammolarni kamaytirish imkonini beradi. Quyida xatoliklarni boshqarishning asosiy usullari — exit kodlari, trap, log fayllar va xavfsiz skriptlash texnikalari batafsil tushuntirilgan.

#### Exit Kodlari va Ularning Roli

Bashda har bir buyruq yoki skript bajarilgandan keyin u "exit kod" qaytaradi. Bu kod buyruq muvaffaqiyatli yoki xatolik bilan yakunlanganligini bildiradi.

#### Asosiy Exit Kodlar:

* `0`: Buyruq muvaffaqiyatli bajarilgan.
* `1-255`: Xatolik yoki maxsus kod (masalan, foydalanuvchi tomonidan aniqlangan).

### Misol:

Buyruqning exit kodini olish:

```javascript
#!/bin/bash
ls /home
# So‘nggi buyruqning exit kodini chiqarish
echo "Exit kod: $?"
```

**Izoh:**

* `$?`: So‘nggi bajarilgan buyruqning exit kodini qaytaradi.

Skriptni maxsus exit kodi bilan tugatish:

```javascript
#!/bin/bash
if [ ! -d "/home" ]; then
    echo "Xatolik: /home katalogi topilmadi."
    exit 1
fi
echo "Hammasi joyida."
exit 0
```

**Izoh:**

* `exit 1`: Skriptni xato bilan tugatadi.
* `exit 0`: Skript muvaffaqiyatli yakunlanganligini bildiradi.

#### Trap Yordamida Xatoliklarni Tuzatish

`trap` buyrug‘i xatoliklar yoki signal paydo bo‘lganda maxsus kodni bajarish imkonini beradi. Bu usul resurslarni tozalash yoki foydalanuvchini ogohlantirish uchun juda foydali.

### Sintaksisi:

```javascript
trap "kod" [signal]
```

### Misol:

Xatolik yuzaga kelganda faylni tozalash:

```javascript
#!/bin/bash
trap "rm -f vaqtinchalik_fayl.txt; echo 'Vaqtinchalik fayl o‘chirildi.'" EXIT
# Fayl yaratish
echo "Bu vaqtinchalik ma’lumot." > vaqtinchalik_fayl.txt
# Xato yuzaga kelishi uchun noto‘g‘ri buyruq
ls /katalog_topilmaydi
```

**Izoh:**

* `trap ... EXIT`: Skript yakunida yoki xato yuzaga kelganda ishlaydi.
* `rm -f vaqtinchalik_fayl.txt`: Vaqtinchalik faylni o‘chiradi.

### Xatolik signalini boshqarish:

```javascript
#!/bin/bash
trap "echo 'SIGINT signali qabul qilindi. Skript to‘xtatilmoqda.'; exit 1" SIGINT
# Uzoq davom etadigan jarayon
for i in {1..10}; do
    echo "Jarayon: $i"
    sleep 1
done
```

**Izoh:**

* `SIGINT`: Ctrl+C bosilganda yuboriladigan signal.
* Trap orqali foydalanuvchiga xabar beriladi va jarayon to‘xtatiladi.

#### Log Fayllarni Yaratish va Monitoring Qilish

Log fayllar skriptlarning ish faoliyati haqida ma’lumot saqlaydi. Bu xatoliklarni aniqlash va tahlil qilish uchun muhimdir.

### Log Faylga Ma’lumot Yozish:

```javascript
#!/bin/bash
LOGFILE="skript.log"
echo "Skript boshlandi: $(date)" >> "$LOGFILE"
# Misol jarayon
echo "Ma’lumot qayta ishlanmoqda..." >> "$LOGFILE"
ls /home >> "$LOGFILE" 2>&1
echo "Skript tugadi: $(date)" >> "$LOGFILE"
```

**Izoh:**

* `>>`: Log faylga yozishni amalga oshiradi.
* `2>&1`: Standart chiqish va xatolarni log faylga yo‘naltiradi.

### Log Faylni Monitoring Qilish:

Real vaqt rejimida log faylni kuzatish uchun `tail` buyrug‘i ishlatiladi:

```javascript
tail -f skript.log
```

**Izoh:**

* `-f`: Log faylga yangi yozuvlarni real vaqtda ko‘rsatadi.

#### Xavfsiz Skriptlash Usullari

Xavfsiz skriptlash tizim resurslarini to‘g‘ri boshqarish va xatolarni minimallashtirishga yordam beradi.

#### Standart Qoida:

Har doim xavfsizlik va muvofiqlikni ta’minlash uchun quyidagi usullardan foydalaning:

1. **Strict Mode:**

```javascript
#!/bin/bash
set -euo pipefail
```

**Izoh:**

* `-e`: Xatolik yuzaga kelganda skriptni to‘xtatadi.
* `-u`: E’lon qilinmagan o‘zgaruvchilarga murojaat qilishni bloklaydi.
* `pipefail`: Pipe ichidagi har qanday xatolikni aniqlaydi.

1. **Ma’lumotlarni tekshirish:** Har doim foydalanuvchi tomonidan kiritilgan parametrlarni tekshiring.

```javascript
#!/bin/bash
if [ -z "$1" ]; then
    echo "Xatolik: Parametr kiritilmagan."
    exit 1
fi
echo "Parametr: $1"
```

**Izoh:**

* `-z`: O‘zgaruvchi bo‘sh ekanligini tekshiradi.

1. **O‘chiriladigan resurslarni boshqarish:** Vaqtinchalik fayllarni har doim tozalang.

```javascript
#!/bin/bash
trap "rm -f vaqtinchalik_fayl.txt" EXIT
echo "Vaqtinchalik ma’lumot." > vaqtinchalik_fayl.txt
```

1. **Exit kodlari:** Buyruq yoki skriptning muvaffaqiyati yoki xatosini aniqlash imkonini beradi.
2. **Trap:** Xatoliklarni boshqarish va resurslarni tozalash imkoniyatini taqdim etadi.
3. **Log fayllar:** Tizim faoliyatini monitoring qilish va xatolarni tahlil qilish uchun zarur.
4. **Xavfsiz skriptlash:** Tizimni himoya qilish va skriptlarning to‘g‘ri ishlashini ta’minlaydi.

Bash skriptlashda xatoliklarni boshqarish, loglar yaratish va xavfsizlik choralari samarali avtomatlashtirishning ajralmas qismi hisoblanadi.

***

**14 Bash Skriptni Optimizatsiya Qilish**

14.1. Kodni tezlashtirish va ixchamlashtirish\
14.2. Resurslardan samarali foydalanish\
14.3. Takrorlanuvchi buyruqlarni avtomatlashtirish\
14.4. Kodni modullar orqali tashkil etish

Bash skriptni optimallashtirish samaradorlikni oshirish, resurslardan tejamli foydalanish va kodni oson tushuniladigan qilish uchun muhimdir. Quyida kodni tezlashtirish, resurslardan samarali foydalanish, takrorlanuvchi buyruqlarni avtomatlashtirish va modullar yordamida kodni tashkil qilish usullari batafsil tushuntirilgan.

#### Kodni Tezlashtirish va Ixchamlashtirish

Bash skriptlarda kodni ixcham va samarali yozish kod o‘qilishini osonlashtiradi va uning ishlash tezligini oshiradi.

### Keraksiz qadamlarni olib tashlash:

Ortacha ishlatilmaydigan buyruqlarni olib tashlash va qadamlarni birlashtirish orqali kodni optimallashtirish mumkin.

#### Misol:

Keraksiz qadamlar bilan kod:

```javascript
#!/bin/bash
TEMP=$(ls /home | grep user)
echo $TEMP
```

Ixcham kod:

```javascript
#!/bin/bash
ls /home | grep user
```

**Izoh:**

* Ikkinchi misolda `TEMP` o‘zgaruvchisi ishlatilmaydi, bu ortiqcha jarayonlarni kamaytiradi.

### Qisqa sintaksisdan foydalanish:

Uzoq sintaksis:

```javascript
if [ $1 -eq 0 ]; then
    echo "Nol"
fi
```

Qisqa sintaksis:

```javascript
[ $1 -eq 0 ] && echo "Nol"
```

**Izoh:**

* `&&` orqali shartlar ixcham ifoda qilinadi.

### Buyruq o‘rniga ichki operatorlardan foydalanish:

Tashqi buyruqlar:

```javascript
#!/bin/bash
COUNT=$(expr 1 + 1)
echo $COUNT
```

Ichki operator:

```javascript
#!/bin/bash
COUNT=$((1 + 1))
echo $COUNT
```

**Izoh:**

* `expr` o‘rniga `$(( ))` operatori ishlatilsa, ishlash tezligi oshadi.

#### Resurslardan Samarali Foydalanish

Resurslardan tejamli foydalanish tizimning ishlash samaradorligini oshiradi.

#### Parallel jarayonlarni qo‘llash:

Bir vaqtning o‘zida bir nechta jarayonlarni bajarish uchun `&` operatoridan foydalanish mumkin.

#### Misol:

Fayllarni parallel ishlov berish:

```javascript
#!/bin/bash
cp fayl1 /zaxira &
cp fayl2 /zaxira &
wait
```

**Izoh:**

* `&`: Jarayonlarni fon rejimida ishga tushiradi.
* `wait`: Barcha jarayonlar tugaguncha kutadi.

### Buyruq chiqishini cheklash:

Keraksiz ma’lumotlarni chiqarishni cheklash orqali resurslarni tejash mumkin.

#### Misol:

Keraksiz chiqish:

```javascript
ls / home;
```

Ixcham variant:

```javascript
ls /home > /dev/null
```

**Izoh:**

* `/dev/null`: Chiqishni bekor qiladi.

#### Takrorlanuvchi Buyruqlarni Avtomatlashtirish

Takrorlanuvchi jarayonlarni avtomatlashtirish skriptlarni samarali qiladi va xatolarni kamaytiradi.

### Funksiyalar yordamida:

Bir necha joyda ishlatiladigan kodlarni funksiyaga aylantirish mumkin.

#### Misol:

Funksiyadan oldin:

```javascript
#!/bin/bash
echo "Salom, Ali!"
echo "Salom, Vali!"
echo "Salom, Salim!"
```

Funksiyadan keyin:

```javascript
#!/bin/bash

salomlashuv() {
    echo "Salom, $1!"
}

salomlashuv "Ali"
salomlashuv "Vali"
salomlashuv "Salim"

```

**Izoh:**

* Funksiyalar kodni qayta ishlatishga imkon beradi.

### Skriptni parametr bilan chaqirish:

Parametrizatsiya takrorlanuvchi kodni avtomatlashtiradi.

#### Misol:

```javascript
#!/bin/bash
echo "Foydalanuvchi ismi: $1"
echo "Yoshi: $2"
```

Skriptni chaqirish:

```javascript
bash skript.sh Ali 25
```

**Natija:**

```javascript
Foydalanuvchi ismi: Ali
Yoshi: 25
```

#### Kodni Modullar Orqali Tashkil Etish

Modullar orqali kodni tashkil qilish loyihani boshqarishni osonlashtiradi va kodni qayta ishlatish imkoniyatini beradi.

### Modul fayllar yaratish:

Funktsiyalarni alohida faylda saqlash va ulardan boshqa skriptlarda foydalanish mumkin.

#### Misol:

`modul.sh` fayli:

```javascript
#!/bin/bash
salomlashuv() {
    echo "Salom, $1!"
}
```

Asosiy skript:

```javascript
#!/bin/bash
# Modulni ulash
source modul.sh
# Funksiyani chaqirish
salomlashuv "Ali"
```

**Izoh:**

* `source`: Modulni asosiy skriptga ulash.

### Modullarni qayta ishlatish:

Bir modulni bir nechta skriptda ishlatish orqali kodni boshqarish osonlashadi.

#### Misol:

`math.sh` fayli:

```javascript
#!/bin/bash
kopaytirish() {
    echo $(( $1 * $2 ))
}
```

Asosiy skript:

```javascript
#!/bin/bash
source math.sh
natija=$(kopaytirish 5 3)
echo "5 * 3 = $natija"
```

**Natija:**

```javascript
5 * 3 = 15
```

1. **Kodni tezlashtirish:** Keraksiz buyruqlarni olib tashlash va qisqa sintaksisdan foydalanish kod samaradorligini oshiradi.
2. **Resurslardan samarali foydalanish:** Parallel jarayonlar va chiqishni cheklash orqali resurslar tejab qolinadi.
3. **Takrorlanuvchi buyruqlarni avtomatlashtirish:** Funksiyalar va parametrizatsiya yordamida kod soddalashtiriladi.
4. **Modullar yordamida tashkil qilish:** Kodni boshqarish osonlashadi va qayta ishlatish imkonini beradi.

Bash skriptlashda optimallashtirish samaradorlikni oshiradi va kodni yanada professional qiladi.

***

# 15 Foydali Asboblar Va Texnikalar

*15.1. awk va ma’lumotlarni tahlil qilish*\
*15.2. sed yordamida matnni boshqarish*\
*15.3. logrotate bilan log fayllarni boshqarish*\
*15.4. Bashda vaqtni boshqarish (date, sleep)*

Bash skriptlashda ma’lumotlarni tahlil qilish, matnni boshqarish, loglarni boshqarish va vaqtni boshqarish kabi jarayonlar uchun maxsus vositalar mavjud. Ushbu bo‘limda `awk`, `sed`, `logrotate` va vaqtni boshqarish vositalari haqida batafsil tushuntirish keltirilgan.

## Awk Va Ma’lumotlarni Tahlil Qilish

`awk` — bu matnni tahlil qilish va qayta ishlash uchun ishlatiladigan qudratli vosita. U ma’lum formatdagi qatorlarni ajratish, filtrlash va qayta formatlashda juda samarali.

### Awk Sintaksisi:

```javascript
awk 'mavzu { amal }' fayl
```

### Misol:

Fayldan ikkinchi ustunni chiqarish:

```javascript
#!/bin/bash
awk '{ print $2 }' ma’lumot.txt
```

**Izoh:**

* `$2`: Ikkinchi ustunni bildiradi.
* `{ print $2 }`: Har bir qatorning ikkinchi ustunini chiqaradi.

#### Fayl misoli:

```javascript
Ali 25
Vali 30
Salim 35
```

**Natija:**

```javascript
25;
30;
35;
```

### Ma’lumotni filtrlash:

Yoshi 30 dan katta bo‘lganlarni chiqarish:

```javascript
awk '$2 > 30 { print $1 }' ma’lumot.txt
```

**Natija:**

```javascript
Salim;
```

#### Sed Yordamida Matnni Boshqarish

`sed` — bu oqimda matnni qayta ishlash vositasi. U matnni o‘zgartirish, qatorlarni qo‘shish yoki o‘chirish uchun ishlatiladi.

### Sed Sintaksisi:

```javascript
sed 'amallar' fayl
```

### Misol:

So‘zlarni almashtirish:

```javascript
#!/bin/bash
sed 's/Oldingi/Yangi/g' fayl.txt
```

**Izoh:**

* `s`: O‘zgartirish amali.
* `Oldingi`: Qidiriladigan so‘z.
* `Yangi`: Almashtiriladigan so‘z.
* `g`: Qator bo‘ylab barcha mosliklarni o‘zgartiradi.

#### Fayl misoli:

```javascript
Bu eski matn.
Eski ma’lumot mavjud.
```

**Natija:**

```javascript
Bu yangi matn.
Yangi ma’lumot mavjud.
```

### Qatorlarni o‘chirish:

"Delete" so‘zi mavjud qatorlarni o‘chirish:

```javascript
sed '/Delete/d' fayl.txt
```

#### Logrotate Bilan Log Fayllarni Boshqarish

`logrotate` — bu log fayllarni avtomatik boshqarish va optimallashtirish vositasi. U log fayllarni zaxiralash, siqish va o‘chirishni avtomatlashtiradi.

### Logrotate Konfiguratsiyasi:

`/etc/logrotate.conf` faylida logrotate sozlamalari mavjud.

### Oddiy Konfiguratsiya:

```javascript
/var/log/myapp.log {
    weekly
    rotate 4
    compress
    missingok
    notifempty
}
```

**Izoh:**

* `weekly`: Log fayllarni har haftada aylantirish.
* `rotate 4`: To‘rt haftalik loglarni saqlash.
* `compress`: Loglarni siqish (masalan, `.gz` formatida).
* `missingok`: Log fayl yo‘q bo‘lsa, xatolik chiqarmaslik.
* `notifempty`: Bo‘sh log fayllarni aylantirmaslik.

### Loglarni qo‘lda aylantirish:

```javascript
logrotate / etc / logrotate.conf;
```

#### Bashda Vaqtni Boshqarish (Date, Sleep)

Bash skriptlarida vaqtni boshqarish orqali rejalashtirilgan vazifalarni bajarish mumkin. Buning uchun `date` va `sleep` kabi vositalar ishlatiladi.

### Date:

`date` buyrug‘i joriy vaqt va sanani olish uchun ishlatiladi.

#### Misol:

Hozirgi vaqtni chiqarish:

```javascript
#!/bin/bash
echo "Hozirgi vaqt: $(date)"
```

**Natija:**

```javascript
Hozirgi vaqt: Fri Jan 16 12:00:00 UTC 2025
```

### Sleep:

`sleep` buyrug‘i skriptni belgilangan vaqt davomida kutish rejimiga o‘tkazadi.

#### Misol:

5 soniya kutish:

```javascript
#!/bin/bash
echo "Boshlanmoqda..."
sleep 5
echo "Tugadi!"
```

**Natija:**

```javascript
Boshlanmoqda...
(5 soniya kutish)
Tugadi!
```

### Takrorlanuvchi vazifalar uchun vaqt boshqaruvi:

1 soniyada bir marta ma’lumot chiqarish:

```javascript
#!/bin/bash
for i in {1..5}; do
    echo "Qator $i: $(date)"
    sleep 1
done
```

**Natija:**

```javascript
Qator 1: Fri Jan 16 12:00:01 UTC 2025
Qator 2: Fri Jan 16 12:00:02 UTC 2025
...
```

1. **Awk:** Matnni tahlil qilish va filtrlash uchun kuchli vosita.
2. **Sed:** Matnni o‘zgartirish va boshqarish uchun ishlatiladi.
3. **Logrotate:** Log fayllarni avtomatlashtirish va optimallashtirish vositasi.
4. **Date va Sleep:** Vaqt bilan bog‘liq operatsiyalarni boshqarishda juda foydali.

Ushbu vositalar Bash skriptlash imkoniyatlarini sezilarli darajada kengaytiradi va avtomatlashtirish samaradorligini oshiradi.

***

# 16 Kengaytirilgan Bash Texnikalari

*16.1. Dinamik buyruqlarni bajarish (eval)*\
*16.2. Multitasking va fon jarayonlari (&, wait)*\
*16.3. Bir nechta skriptlarni parallel boshqarish*\
*16.4. Boshqa dasturlash tillari bilan integratsiya*

Bash skriptlashda dinamik buyruqlarni ishlatish, multitasking, bir nechta skriptlarni parallel boshqarish va boshqa dasturlash tillari bilan integratsiya qilish texnikalari juda muhimdir. Ushbu bo‘limda `eval`, multitasking vositalari (`&`, `wait`), parallel boshqaruv va integratsiya usullari haqida batafsil tushuntirish keltirilgan.

#### Dinamik Buyruqlarni Bajarish (eval)

`eval` — bu Bashda dinamik buyruqlarni generatsiya qilish va bajarish uchun ishlatiladigan qudratli vosita. U buyruqlarni o‘qib, keyin ularni bajaradi.

#### Misol:

Oddiy dinamik buyruq:

```javascript
#!/bin/bash
COMMAND="ls -l"
eval $COMMAND
```

**Izoh:**

* `COMMAND` — o‘zgaruvchi sifatida yozilgan buyruq.
* `eval $COMMAND` — o‘zgaruvchida yozilgan buyruqni bajaradi.

#### Dinamik o‘zgaruvchilarni yaratish:

```javascript
#!/bin/bash
VAR_NAME="salom"
VAR_VALUE="Hello, Bash!"
eval $VAR_NAME=$VAR_VALUE
echo $salom
```

**Izoh:**

* `eval $VAR_NAME=$VAR_VALUE` — dinamik o‘zgaruvchini yaratadi.
* `echo $salom` — natijani chiqaradi.

**Natija:**

```javascript
Hello, Bash!
```

#### Multitasking Va Fon Jarayonlari (&, wait)

Multitasking Bashda bir nechta buyruqlarni bir vaqtda ishga tushirishga imkon beradi. Buning uchun `&` va `wait` operatorlari qo‘llaniladi.

#### & Operatori:

Buyruqni fon jarayoni sifatida ishga tushiradi va darhol keyingi buyrug‘ga o‘tadi.

#### Misol:

```javascript
#!/bin/bash
echo "Faylni ko‘chirish boshlanmoqda..."
cp fayl1 /zaxira &
cp fayl2 /zaxira &
echo "Barcha jarayonlar ishga tushirildi."
```

**Izoh:**

* `&` — buyruqni fon rejimida bajaradi.

#### wait Operatori:

Fon jarayonlari tugashini kutadi.

#### Misol:

```javascript
#!/bin/bash
echo "Jarayonlar boshlanmoqda..."
cp fayl1 /zaxira &
cp fayl2 /zaxira &
wait
echo "Barcha jarayonlar tugadi."
```

**Izoh:**

* `wait` barcha fon jarayonlari tugaguncha skriptni kutib turadi.

#### Bir Nechta Skriptlarni Parallel Boshqarish

Bir nechta skriptlarni bir vaqtda boshqarish orqali tizim samaradorligini oshirish mumkin.

#### Misol:

Ikki skriptni parallel ishga tushirish va yakunlashni kutish:

```javascript
#!/bin/bash
echo "Skriptlar boshlanmoqda..."
./skript1.sh &
./skript2.sh &
wait
echo "Barcha skriptlar tugadi."
```

**Izoh:**

* `&` har bir skriptni fon rejimida ishga tushiradi.
* `wait` barcha fon skriptlari tugashini kutadi.

### Boshqa Dasturlash Tillari Bilan Integratsiya

Bash boshqa dasturlash tillari (masalan, Python, Perl, yoki Ruby) bilan birgalikda ishlashi mumkin. Bu murakkab hisob-kitoblar yoki maxsus kutubxonalarni ishlatishda foydalidir.

#### Misol:

Python skriptni Bashdan chaqirish:

```javascript
#!/bin/bash
python3 -c "print('Hello from Python!')"
```

**Izoh:**

* `python3 -c` — Python kodini to‘g‘ridan-to‘g‘ri Bash ichida bajaradi.

### Bashdan Python orqali hisob-kitoblar qilish:

```javascript
#!/bin/bash
RESULT=$(python3 -c "print(10 + 20)")
echo "Natija: $RESULT"
```

**Izoh:**

* `python3 -c` hisob-kitoblarni bajaradi.
* `RESULT` o‘zgaruvchisiga natijani saqlaydi.

### Perl Yordamida Matnni Qayta Ishlash:

```javascript
#!/bin/bash
perl -e "print 'Hello from Perl!\n'"
```

**Izoh:**

* `perl -e` Perl kodini Bash ichida bajaradi.

1. **Dinamik buyruqlar (eval):** Bashda buyruqlarni dinamik yaratish va bajarish imkonini beradi.
2. **Multitasking va fon jarayonlari:** Bir nechta buyruqlarni bir vaqtning o‘zida bajarish imkoniyatini beradi.
3. **Parallel boshqaruv:** Bir nechta skriptlarni birgalikda ishga tushirish orqali samaradorlikni oshiradi.
4. **Integratsiya:** Bash boshqa tillar bilan birgalikda ishlashi mumkin.

Bu texnikalar yordamida Bash skriptlarni yanada kuchliroq va moslashuvchan qilish mumkin.

***

#### 17 Skriptlar Xavfsizligini Ta’minlash

17.1. Kiruvchi parametrlarni tekshirish va validatsiya qilish\
17.2. Fayllar bilan ishlashda xavfsizlikni oshirish\
17.3. Parollarni shifrlash va yashirish\
17.4. Xavfsiz skriptlash amaliyotlari

Bash skriptlashda xavfsizlik juda muhim. Kiruvchi parametrlarni tekshirish, fayllar bilan ishlashda ehtiyot bo‘lish, parollarni shifrlash va umumiy xavfsiz skriptlash amaliyotlariga rioya qilish orqali tizimni himoya qilish mumkin. Quyida ushbu xavfsizlik choralarining har biri batafsil tushuntirilgan.

#### Kiruvchi Parametrlarni Tekshirish Va Validatsiya Qilish

Foydalanuvchi tomonidan kiritilgan parametrlar noto‘g‘ri yoki zararli bo‘lishi mumkin. Shu sababli ularni tekshirish va validatsiya qilish zarur.

### Misol:

Parametrlarni bo‘sh yoki noto‘g‘ri qiymatdan himoya qilish:

```javascript
#!/bin/bash
# Parametrni tekshirish
if [ -z "$1" ]; then
    echo "Xatolik: Parametr kiritilmagan."
    exit 1
fi
if ! [[ "$1" =~ ^[0-9]+$ ]]; then
    echo "Xatolik: Parametr butun son bo‘lishi kerak."
    exit 1
fi
echo "Parametr to‘g‘ri: $1"
```

**Izoh:**

* `-z`: O‘zgaruvchi bo‘shligini tekshiradi.
* `[[ "$1" =~ ^[0-9]+$ ]]`: Parametrning faqat raqamlardan iborat ekanligini tekshiradi.

**Natija:**

```javascript
Xatolik: Parametr kiritilmagan.
```

(yoki)

```javascript
Parametr to‘g‘ri: 123
```

#### Fayllar Bilan Ishlashda Xavfsizlikni Oshirish

Fayllar bilan ishlashda nomaqbul yoki zararli o‘zgarishlardan himoya qilish zarur. Fayl mavjudligini tekshirish va faqat kerakli ruxsatlarni o‘rnatish muhimdir.

### Misol:

Fayl mavjudligini tekshirish:

```javascript
#!/bin/bash
FAYL="test.txt"
if [ ! -e "$FAYL" ]; then
    echo "Xatolik: $FAYL mavjud emas."
    exit 1
fi
echo "$FAYL fayli mavjud."
```

**Izoh:**

* `[ ! -e "$FAYL" ]`: Fayl mavjud emasligini tekshiradi.

Faylga faqat kerakli ruxsatlarni o‘rnatish:

```javascript
chmod 600 test.txt
```

**Izoh:**

* `chmod 600`: Faylga faqat egasiga o‘qish va yozish huquqini beradi.

#### Parollarni Shifrlash Va Yashirish

Parollarni ochiq matn sifatida saqlash xavfli. Shuning uchun ular shifrlanadi yoki yashiriladi.

### Misol:

Parolni yashirish uchun `read` buyrug‘idan foydalanish:

```javascript
#!/bin/bash
read -sp "Parolni kiriting: " PAROL
echo "\nParol qabul qilindi."
```

**Izoh:**

* `-s`: Kiritilgan matnni yashiradi.

Parolni shifrlash:

```javascript
#!/bin/bash
read -sp "Parolni kiriting: " PAROL
SHIFRLANGAN=$(echo "$PAROL" | sha256sum | awk '{print $1}')
echo "\nShifrlangan parol: $SHIFRLANGAN"
```

**Izoh:**

* `sha256sum`: Parolni SHA-256 algoritmi bilan shifrlaydi.

**Natija:**

```javascript
Shifrlangan parol: 5e884898da280471...
```

#### Xavfsiz Skriptlash Amaliyotlari

Xavfsiz skriptlash tizimni muhofaza qilish va kodni ishonchli qilishga yordam beradi.

### Strict Mode’dan Foydalanish:

Strict mode xatolarni aniqlash va ularni boshqarishni osonlashtiradi.

```javascript
#!/bin/bash
set -euo pipefail
```

**Izoh:**

* `-e`: Xatolik yuzaga kelsa, skriptni to‘xtatadi.
* `-u`: E’lon qilinmagan o‘zgaruvchilarga murojaatni bloklaydi.
* `pipefail`: Pipe buyruqlaridagi xatolarni aniqlaydi.

### Trap Bilan Resurslarni Himoya Qilish:

Trap yordamida vaqtinchalik fayllar va resurslarni tozalash mumkin.

```javascript
#!/bin/bash
trap "rm -f vaqtinchalik_fayl.txt; echo 'Resurslar tozalandi.'" EXIT
echo "Ma’lumot" > vaqtinchalik_fayl.txt
ls /katalog_topilmaydi
```

**Izoh:**

* `trap ... EXIT`: Skript tugaganda yoki xato yuzaga kelganda resurslarni tozalaydi.

### Minimal Ruxsatlar:

Har doim minimal ruxsatlarni belgilash va kerakli darajada ishlatish muhim.

```javascript
chmod 700 skript.sh
```

**Izoh:**

* `chmod 700`: Skriptni faqat egasi bajarishi mumkin.

1. **Parametrlarni tekshirish:** Kiruvchi ma’lumotlarni validatsiya qilish xatolarni kamaytiradi va xavfsizlikni oshiradi.
2. **Fayllar bilan ishlash:** Fayllarni ishlatishda ruxsatlarni cheklash va xavfsizligini ta’minlash muhim.
3. **Parollarni shifrlash:** Parollarni shifrlash yoki yashirish orqali ulardan xavfsiz foydalanish mumkin.
4. **Xavfsiz skriptlash amaliyotlari:** Strict mode va trap yordamida resurslarni boshqarish orqali skriptning ishonchliligini oshirish mumkin.

Ushbu texnikalar yordamida Bash skriptlashda xavfsizlikni ta’minlashga erishiladi.

***

# 18 Amaliy Misollar

18.1. "Hello World" skripti\
18.2. Disk hajmini kuzatish va xabar berish\
18.3. Server faoliyatini monitoring qilish\
18.4. Yangi fayllarni avtomatik kuzatish va zaxira nusxasini olish\
18.5. Haftalik cron vazifalarini yaratish

Bash skriptlashda amaliy misollar orqali har xil vazifalarni avtomatlashtirish va boshqarish osonlashadi. Quyida turli darajadagi amaliy misollar keltirilgan va ularning har biri batafsil izohlangan.

## "Hello World" Skripti

Bashdagi eng oddiy skript bu ekranga xabar chiqaruvchi skriptdir. Bu yangi boshlovchilar uchun dasturlashning birinchi qadami bo‘lib, skriptning ishlash tamoyillarini tushunishga yordam beradi.

### Misol:

```javascript
#!/bin/bash
echo "Hello, World!"
```

**Izoh:**

* `#!/bin/bash`: Bu shebang qatori skriptni Bash yordamida bajarilishini bildiradi.
* `echo`: Konsolga matn chiqaradi.
* Bu skriptni ishga tushirganda "Hello, World!" xabari chiqariladi.

**Ishga tushirish:**

1. Skriptni yaratish: `nano hello.sh`
2. Faylga yuqoridagi kodni yozib saqlash.
3. Skriptga bajarish ruxsatini berish:

```javascript
chmod +x hello.sh
```

1. Skriptni ishga tushirish:

```javascript
./hello.sh
```

**Natija:**

```javascript
Hello, World!
```

#### Disk Hajmini Kuzatish Va Xabar Berish

Diskning bo‘sh joyi tugashidan oldin ogohlantirish uchun skript yozish tizimning barqaror ishlashini ta’minlashda foydali bo‘ladi.

### Misol:

```javascript
#!/bin/bash
DISK_USAGE=$(df / | tail -1 | awk '{print $5}' | sed 's/%//')
LIMIT=80
if [ "$DISK_USAGE" -ge "$LIMIT" ]; then
    echo "Ogohlantirish: Disk hajmi $DISK_USAGE% band!"
else
    echo "Disk hajmi normal: $DISK_USAGE% band."
fi
```

**Izoh:**

* `df /`: Root katalogining disk hajmini ko‘rsatadi.
* `awk '{print $5}'`: Disk bandlik foizini chiqaradi.
* `sed 's/%//'`: Foiz belgisini olib tashlaydi.
* Shart (if) orqali disk hajmi limiti tekshiriladi va natijaga qarab xabar chiqariladi.

**Natija:**

```javascript
Ogohlantirish: Disk hajmi 85% band!
```

(yoki)

```javascript
Disk hajmi normal: 40% band.
```

## Server Faoliyatini Monitoring Qilish

Server yoki xostning ishlayotganligini tekshirish uchun ping buyrug‘idan foydalanish mumkin. Bu texnika serverning jonli ekanligini kuzatish uchun ishlatiladi.

### Misol:

```javascript
#!/bin/bash
SERVER="google.com"
if ping -c 1 "$SERVER" &> /dev/null; then
    echo "$SERVER faol."
else
    echo "$SERVER ishlamayapti."
fi
```

**Izoh:**

* `ping -c 1`: Serverga bitta ping yuboradi.
* `&> /dev/null`: Ping natijasini konsolda ko‘rsatmaydi.
* Shart (if) orqali ping muvaffaqiyatli o‘tganligi tekshiriladi.

**Natija:**

```javascript
google.com faol.
```

(yoki)

```javascript
google.com ishlamayapti.
```

#### Yangi Fayllarni Kuzatish Va Zaxira Nusxasini Olish

Katalogga yangi fayl qo‘shilganda avtomatik zaxira qilish tizimni xavfsiz saqlashga yordam beradi.

### Misol:

```javascript
#!/bin/bash
WATCH_DIR="/home/user/documents"
BACKUP_DIR="/home/user/backup"
inotifywait -m -e create "$WATCH_DIR" | while read path action file; do
    echo "Yangi fayl topildi: $file"
    cp "$WATCH_DIR/$file" "$BACKUP_DIR"
    echo "$file zaxira qilindi."
done
```

**Izoh:**

* `inotifywait`: Linuxda fayl tizimi o‘zgarishlarini kuzatadi.
* `-m`: Doimiy rejimda ishlaydi.
* `-e create`: Faqat yangi yaratilgan fayllarni kuzatadi.
* `cp`: Faylni zaxira katalogiga nusxalash.

**Natija:**

```javascript
Yangi fayl topildi: yangi_fayl.txt
yangi_fayl.txt zaxira qilindi.
```

#### Haftalik Cron Vazifalarini Yaratish

Skriptni har haftada bir marta avtomatik ishga tushirish uchun cron vazifasi sozlanadi.

### Misol:

Crontab faylga vazifani qo‘shish:

```javascript
crontab - e;
```

Cron yozuvi:

```javascript
0 0 * * 0 /home/user/weekly_task.sh
```

**Izoh:**

* `0 0 * * 0`: Har yakshanba soat 00:00 da ishlaydi.
* `/home/user/weekly_task.sh`: Ishga tushadigan skript yo‘li.

### Oddiy Haftalik Skript:

```javascript
#!/bin/bash
echo "Haftalik vazifa bajarildi: $(date)" >> /home/user/cron_log.txt
```

**Izoh:**

* `$(date)`: Hozirgi vaqtni chiqaradi.
* Natija log faylga yoziladi.

**Natija:**

```javascript
Haftalik vazifa bajarildi: Sun Jan 21 00:00:01 UTC 2025
```

##

1. **Hello World:** Bash skriptlashni boshlash uchun eng oddiy va oson misol.
2. **Disk hajmini kuzatish:** Tizim resurslarini avtomatik monitoring qilish.
3. **Server monitoring:** Tarmoqli server faoliyatini kuzatish va xabar berish.
4. **Fayllarni kuzatish va zaxira olish:** Ma’lumotlarni xavfsiz saqlash uchun avtomatlashtirish.
5. **Cron vazifalari:** Doimiy vazifalarni rejalashtirish va avtomatlashtirish.

Bu misollar Bash skriptlashning imkoniyatlarini amaliy ravishda tushunishga yordam beradi va turli tizim vazifalarini avtomatlashtirish uchun qulay yechimlar beradi.

***

**19 Qiziqarli Loyiha Misollari**

*19.1. Oddiy kalkulyator skripti*\
*19.2. IP manzillarni kuzatish tizimi*\
*19.3. Kataloglarni avtomatik tozalash dasturi*\
*19.4. Skript yordamida ma’lumotni URL dan yuklab olish*\
*19.5. Bashda oddiy chat-bot yaratish*

Quyida Bash skriptlash orqali bajarilishi mumkin bo‘lgan qiziqarli va foydali loyihalar misollari keltirilgan. Har bir loyiha batafsil tushuntirilgan va amaliyotga tatbiq qilish uchun misollar bilan boyitilgan.

#### Oddiy Kalkulyator Skripti

Bu loyiha foydalanuvchi kiritgan ikkita son ustida asosiy matematik amallarni bajaradi.

### Misol:

```javascript
#!/bin/bash

echo "Birinchi sonni kiriting:"
read SON1

echo "Ikkinchi sonni kiriting:"
read SON2

echo "Amalni tanlang (+, -, *, /):"
read AMAL

case "$AMAL" in
    +)
        echo "Natija: $(($SON1 + $SON2))"
        ;;
    -)
        echo "Natija: $(($SON1 - $SON2))"
        ;;
    \*)
        echo "Natija: $(($SON1 * $SON2))"
        ;;
    /)
        if [ "$SON2" -ne 0 ]; then
            echo "Natija: $(($SON1 / $SON2))"
        else
            echo "Xatolik: Nolga bo‘lish mumkin emas."
        fi
        ;;
    *)
        echo "Xato: Notog‘ri amal tanlandi."
        ;;
esac
```

**Izoh:**

* `read`: Foydalanuvchi kiritmalarini o‘qish.
* `case`: Amalni tanlash va bajarish.

#### IP Manzillarni Kuzatish Tizimi

Bu loyiha tarmoqdagi IP manzillarni kuzatib, qaysi manzillar faol yoki faol emasligini aniqlaydi.

### Misol:

```javascript
#!/bin/bash
IP_LIST=(192.168.1.1 192.168.1.2 192.168.1.3)
for IP in "${IP_LIST[@]}"; do
    if ping -c 1 "$IP" &> /dev/null; then
        echo "$IP faol."
    else
        echo "$IP faol emas."
    fi
done
```

**Izoh:**

* `ping -c 1`: Har bir IP manzilga ping yuboradi.
* `for`: IP manzillar ro‘yxati ustida aylanish.

#### Kataloglarni Avtomatik Tozalash Dasturi

Bu loyiha eski fayllarni aniqlab, avtomatik ravishda o‘chirib tashlaydi.

### Misol:

```javascript
#!/bin/bash

TARGET_DIR="/home/user/temp"
DAYS=30

find "$TARGET_DIR" -type f -mtime +$DAYS -exec rm {} \;

echo "$DAYS kundan eski fayllar o‘chirildi."

```

**Izoh:**

* `find`: Fayllarni aniqlash uchun ishlatiladi.
* `-mtime +$DAYS`: `$DAYS` kundan eski fayllarni qidiradi.
* `-exec rm {}`: Topilgan fayllarni o‘chiradi.

#### Skript Yordamida Ma’lumotni URL dan Yuklab Olish

Bu loyiha URL’dan fayllarni yuklab olish va saqlashni avtomatlashtiradi.

### Misol:

```javascript
#!/bin/bash
URL="https://example.com/file.txt"
TARGET_DIR="/home/user/downloads"
wget -P "$TARGET_DIR" "$URL"
echo "Fayl yuklab olindi: $URL"
```

**Izoh:**

* `wget`: URL orqali fayllarni yuklab olish uchun ishlatiladi.
* `-P`: Faylni ko‘rsatilgan katalogga saqlash.

## Bashda Oddiy Chat-Bot Yaratish

Bu loyiha foydalanuvchi bilan sodda muloqot qiluvchi chat-botni yaratadi.

#### Misol:

```javascript
#!/bin/bash

echo "Salom! Sizga qanday yordam bera olaman?"
while true; do
    read -p "> " SAVOL

    case "$SAVOL" in
        Salom)
            echo "Salom!"
            ;;
        Yordam*)
            echo "Albatta! Sizga qanday yordam kerak?"
            ;;
        Xayr)
            echo "Xayr! Yaxshi kun tilayman!"
            break
            ;;
        *)
            echo "Kechirasiz, sizni tushunmadim."
            ;;
    esac
done
```

**Izoh:**

* `while true`: Skriptni doimiy ravishda ishlatish uchun cheksiz aylanish.
* `case`: Foydalanuvchi kiritgan so‘zlarga qarab javob qaytaradi.

1. **Oddiy Kalkulyator:** Matematik amallarni Bashda bajarish.
2. **IP Manzillarni Kuzatish:** Tarmoq holatini monitoring qilish.
3. **Kataloglarni Tozalash:** Eski fayllarni avtomatik o‘chirish.
4. **URL’dan Yuklash:** Fayllarni avtomatik yuklab olish.
5. **Chat-Bot:** Oddiy foydalanuvchi interfeysi yaratish.

Ushbu misollar Bash skriptlash imkoniyatlarini amaliy ravishda tushunishga yordam beradi va real hayotda foydali bo‘lishi mumkin.

***

# 20 Amaliyot Uchun Topshiriqlar

*20.1. Fayl tizimining strukturasi bo‘yicha skript yaratish*\
*20.2. Foydalanuvchi hisobini avtomatik tekshirish va sozlash*\
*20.3. Matnli fayllarni tartiblash va qidirish dasturi*\
*20.4. Diskdagi bo‘sh joyni kuzatish va xabar berish*\
*20.5. Log fayllarni avtomatik boshqarish va o‘chirish*

Amaliy topshiriqlar Bash skriptlashni chuqurroq o‘rganish va amalda qo‘llash uchun zarurdir. Quyida turli darajadagi topshiriqlar keltirilgan bo‘lib, ular foydalanuvchilarni real vazifalarni hal qilishga yo‘naltiradi.

#### Fayl Tizimining Strukturasi Bo‘yicha Skript Yaratish

Bu topshiriq maqsadi katalog va fayllar strukturasini avtomatik yaratish va ko‘rsatishdan iborat.

#### Vazifa:

* Berilgan asosiy katalog ichida bir nechta ichki katalog va fayllar yarating.
* Tuzilgan strukturaning ro‘yxatini ekranga chiqaring.

#### Misol Skript:

```javascript
#!/bin/bash
ASOSIY_DIR="/home/user/project"
SUB_DIRS=("docs" "src" "tests")
FILES=("README.md" "main.sh" "test.sh")
mkdir -p "$ASOSIY_DIR"
for SUB in "${SUB_DIRS[@]}"; do
    mkdir -p "$ASOSIY_DIR/$SUB"
done
echo "Fayllar yaratilmoqda..."
for FILE in "${FILES[@]}"; do
    touch "$ASOSIY_DIR/$FILE"
done
echo "Tuzilgan struktura:"
tree "$ASOSIY_DIR"
```

**Izoh:**

* `mkdir -p`: Katalog mavjud bo‘lmasa, uni yaratadi.
* `tree`: Tuzilgan strukturaning vizual ro‘yxatini ko‘rsatadi.

#### Foydalanuvchi Hisobini Avtomatik Tekshirish Va Sozlash

Bu topshiriqda tizimdagi foydalanuvchi mavjudligini tekshirish va kerak bo‘lsa, yangi hisob yaratish talab etiladi.

#### Vazifa:

* Foydalanuvchi nomini parametr sifatida qabul qiling.
* Agar foydalanuvchi mavjud bo‘lmasa, yangi foydalanuvchi yarating.

#### Misol Skript:

```javascript
#!/bin/bash
FOYDALANUVCHI=$1
if id "$FOYDALANUVCHI" &>/dev/null; then
    echo "$FOYDALANUVCHI allaqachon mavjud."
else
    sudo useradd "$FOYDALANUVCHI"
    echo "$FOYDALANUVCHI foydalanuvchi yaratildi."
fi
```

**Izoh:**

* `id`: Foydalanuvchi mavjudligini tekshiradi.
* `useradd`: Yangi foydalanuvchi yaratadi.

#### Matnli Fayllarni Tartiblash Va Qidirish Dasturi

Bu topshiriqda matnli fayldagi qatorlarni tartiblash va qidirish funksiyalarini amalga oshiruvchi skript yaratish talab etiladi.

#### Vazifa:

* Foydalanuvchi fayl nomini va qidiriladigan so‘zni kiritsin.
* Fayldagi qatorlarni alfavit tartibida chiqarib bering.
* Faqat qidirilayotgan so‘zga mos keladigan qatorlarni ajratib bering.

#### Misol Skript:

```javascript
#!/bin/bash
FAYL=$1
SOZ=$2
if [ -f "$FAYL" ]; then
    echo "Tartiblangan qatorlar:"
    sort "$FAYL"

    echo "\nQidirilgan qatorlar:"
    grep "$SOZ" "$FAYL"
else
    echo "Fayl topilmadi: $FAYL"
fi
```

**Izoh:**

* `sort`: Fayldagi qatorlarni tartiblaydi.
* `grep`: Ma’lum shablonga mos qatorlarni qidiradi.

#### Diskdagi Bo‘sh Joyni Kuzatish Va Xabar Berish

Diskdagi bo‘sh joyni kuzatib, foydalanuvchini ogohlantiruvchi skript yarating.

### Vazifa:

* Disk bandlik foizini hisoblang.
* Agar bandlik 80% dan yuqori bo‘lsa, ogohlantirish chiqarilsin.

### Misol Skript:

```javascript
#!/bin/bash
DISK_USAGE=$(df / | tail -1 | awk '{print $5}' | sed 's/%//')
LIMIT=80
if [ "$DISK_USAGE" -ge "$LIMIT" ]; then
    echo "Ogohlantirish: Disk bandligi $DISK_USAGE% dan yuqori!"
else
    echo "Disk bandligi normal: $DISK_USAGE%."
fi
```

**Izoh:**

* `df /`: Disk bandlik ma’lumotlarini ko‘rsatadi.
* `awk` va `sed`: Disk bandlik foizini ajratib olish uchun ishlatiladi.

#### Log Fayllarni Avtomatik Boshqarish Va O‘chirish

Log fayllar tizimni to‘ldirib yubormasligi uchun ularni avtomatik boshqarish va o‘chirish muhim.

### Vazifa:

* Katalog ichidagi log fayllarni toping.
* Bir haftadan eski log fayllarni o‘chirib tashlang.

#### Misol Skript:

```javascript
#!/bin/bash
LOG_DIR="/var/log/myapp"
FAYLLAR=$(find "$LOG_DIR" -type f -name "*.log" -mtime +7)
if [ -n "$FAYLLAR" ]; then
    echo "Eski log fayllar o‘chirilmoqda..."
    echo "$FAYLLAR" | xargs rm
    echo "Eski log fayllar o‘chirildi."
else
    echo "Eski log fayllar topilmadi."
fi
```

**Izoh:**

* `find`: Eski log fayllarni topadi.
* `xargs rm`: Topilgan fayllarni o‘chiradi.

1. **Fayl Tizimining Strukturasi:** Katalog va fayllarni avtomatik yaratish.
2. **Foydalanuvchi Hisobini Tekshirish:** Tizim foydalanuvchilarini boshqarish.
3. **Matnli Fayllarni Tartiblash:** Ma’lumotlarni qayta ishlash va qidirish.
4. **Disk Bo‘sh Joyini Kuzatish:** Tizim resurslarini monitoring qilish.
5. **Log Fayllarni Boshqarish:** Tizimni tozalash va log fayllarni boshqarish.

Ushbu topshiriqlar amaliy mashg‘ulot sifatida o‘rganishni chuqurlashtiradi va real vazifalar uchun asosiy yechimlarni taqdim etadi.

***

# <mark>Bash Skriptlash Cheat Sheet</mark>

## <mark>Shebang (Skriptning Boshi)</mark>

```javascript
#!/bin/bash
```

* Skriptni bash yordamida bajarilishini ko‘rsatadi.

## Foydali Buyruqlar

### Terminal Buyruqlari

* `ls` — Katalogdagi fayllar va papkalarni ko‘rsatadi.
* `pwd` — Joriy katalog yo‘lini ko‘rsatadi.
* `cd [katalog]` — Katalogni o‘zgartiradi.
* `mkdir [katalog]` — Yangi katalog yaratadi.
* `rm [fayl/katalog]` — Fayl yoki katalogni o‘chiradi.

### Matnni O‘zgartirish

* `cat [fayl]` — Fayl ichidagi matnni ko‘rsatadi.
* `echo "matn"` — Konsolga matn chiqaradi yoki faylga yozadi.
* `grep "matn" [fayl]` — Faylda qidiruv.
* `sed 's/eskisi/yangi/g' [fayl]` — Matnni almashtirish.

## O‘zgaruvchilar Va Maxsus Belgilar

### Oddiy O‘zgaruvchilar

```javascript
NAME="Dasturchi"
echo "Salom, $NAME!"

```

### Maxsus Belgilar

* `$0` — Skriptning nomi.
* `$1, $2, ...` — Skriptga uzatilgan parametrlar.
* `$@` — Barcha parametrlar.
* `$#` — Parametrlar soni.
* `$?` — Oxirgi buyruqning exit kodi.

## Shart Operatorlari

### if-else

```javascript
if [ shart ]; then
    echo "Shart to‘g‘ri."
else
    echo "Shart noto‘g‘ri."
fi

```

### Shart Sintaksisi

* `-eq` — teng
* `-ne` — teng emas
* `-lt` — kichik
* `-gt` — katta
* `-le` — kichik yoki teng
* `-ge` — katta yoki teng

## Tsikllar

### for Tsikli

```javascript
for ITEM in {1..5}; do
    echo "Raqam: $ITEM"
done

```

### while Tsikli

```javascript
COUNT=1
while [ $COUNT -le 5 ]; do
    echo "Raqam: $COUNT"
    COUNT=$((COUNT + 1))
done

```

### until Tsikli

```javascript
COUNT=1
until [ $COUNT -gt 5 ]; do
    echo "Raqam: $COUNT"
    COUNT=$((COUNT + 1))
done
```

***

## Funksiyalar

```javascript
my_function() {
    echo "Salom, $1!"
}
my_function "Dasturchi"
```

## Foydali Vositalar

### Disk Hajmini Tekshirish

```javascript
DISK_USAGE=$(df / | tail -1 | awk '{print $5}' | sed 's/%//')
echo "Disk bandligi: $DISK_USAGE%"

```

### Fayllarni Kuzatish

```javascript
inotifywait -m -e create /home/user/fayllar | while read path action file; do
    echo "Yangi fayl topildi: $file"
done
```

## Log Fayllarni Boshqarish

```javascript
find /var/log/myapp -type f -name "*.log" -mtime +7 -exec rm {} \;
echo "Eski log fayllar o‘chirildi."
```

## Xavfsizlik Bo‘yicha Tavsiyalar

* Har doim `set -euo pipefail` dan foydalaning.
* Fayllar uchun minimal ruxsatlarni belgilang: `chmod 600`.
* Kiruvchi parametrlarni tekshiring:

```javascript
if [ -z "$1" ]; then
    echo "Xatolik: Parametr kiritilmagan."
    exit 1
fi
```

Bu cheat sheet Bash skriptlashni tezda eslab qolishga yordam beradi. Skriptlarni samarali va xavfsiz yozishni davom ettiring !

***

# Foydalanilgan Adabiyotlar va saytlar

1. **Bash Scripting Guide**\
   Havola: <https://www.gnu.org/software/bash/manual/>\
   Ushbu qo‘llanma Bashning rasmiy dokumentatsiyasi bo‘lib, unda barcha funksiyalar va buyruqlar tafsilotlari keltirilgan.
2. **Advanced Bash-Scripting Guide**\
   Muallif: Mendel Cooper\
   Havola: <http://tldp.org/LDP/abs/html/>\
   Bu kitob Bash skriptlash bo‘yicha keng qamrovli va batafsil manba hisoblanadi.
3. **Linux Command Line and Shell Scripting Bible**\
   Mualliflar: Richard Blum, Christine Bresnahan\
   Ushbu kitob Linux buyruqlar qatori va shell skriptlash bo‘yicha asosiy va ilg‘or mavzularni qamrab oladi.
4. **Pro Bash Programming: Scripting the Linux Shell**\
   Muallif: Chris F. A. Johnson\
   Bash skriptlashda professional yondashuvni o‘rgatuvchi kitob bo‘lib, unda real loyihalardan misollar keltirilgan.
5. **Mastering Linux Shell Scripting**\
   Mualliflar: Mokhtar Ebrahim, Andrew Mallett\
   Bu kitob murakkab skriptlarni yaratish orqali tizim boshqaruvi va avtomatlashtirishni o‘rgatadi.
6. **GNU Core Utilities Documentation**\
   Havola: <https://www.gnu.org/software/coreutils/>\
   Linux tizimidagi asosiy buyruqlar uchun rasmiy qo‘llanma.
7. **Bash Cheat Sheet**\
   Havola: <https://devhints.io/bash>\
   Bashning tezkor qo‘llanmasi bo‘lib, unda eng muhim buyruqlar va sintaksislar jamlangan.

          
